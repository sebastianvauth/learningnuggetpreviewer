<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercise Lesson 13.1: Calculating Derivatives - The Slope Story!</title>
  <style>
      body {
          font-family: Arial, sans-serif;
          max-width: 800px;
          margin: 0 auto;
          padding: 20px;
          background-color: #ffffff;
          font-size: 150%;
      }
      section {
          margin-bottom: 20px;
          padding: 20px;
          background-color: #ffffff;
          display: none;
          opacity: 0;
          transition: opacity 0.5s ease-in;
      }
      h1, h2, h3, h4 {
          color: #333;
          margin-top: 20px;
      }
      p, li {
          line-height: 1.6;
          color: #444;
          margin-bottom: 20px;
      }
      ul {
          padding-left: 20px;
      }
      .image-placeholder, .interactive-placeholder, .continue-button, .vocab-section, .why-it-matters, .test-your-knowledge, .faq-section, .stop-and-think, .visual-aid-placeholder {
          text-align: left;
      }
      .image-placeholder img, .interactive-placeholder img, .visual-aid-placeholder img {
          max-width: 100%;
          height: auto;
          border-radius: 5px;
      }
      .vocab-section, .why-it-matters, .test-your-knowledge, .faq-section, .stop-and-think, .mathematical-explainer {
          padding: 20px;
          border-radius: 8px;
          margin-top: 20px;
      }
      .vocab-section {
          background-color: #f0f8ff;
      }
      .vocab-section h3 {
          color: #1e90ff;
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .vocab-section h4 {
          color: #000;
          font-size: 0.9em;
          margin-top: 10px;
          margin-bottom: 8px;
      }
      .vocab-term {
          font-weight: bold;
          color: #1e90ff;
      }
      .why-it-matters {
          background-color: #ffe6f0;
      }
      .why-it-matters h3 {
          color: #d81b60;
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .stop-and-think {
          background-color: #e6e6ff;
      }
      .stop-and-think h3 {
          color: #4b0082;
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .continue-button {
          display: inline-block;
          padding: 10px 20px;
          margin-top: 15px;
          color: #ffffff;
          background-color: #007bff;
          border-radius: 5px;
          text-decoration: none;
          cursor: pointer;
      }
      .reveal-button {
          display: inline-block;
          padding: 10px 20px;
          margin-top: 15px;
          color: #ffffff;
          background-color: #4b0082;
          border-radius: 5px;
          text-decoration: none;
          cursor: pointer;
      }
      .test-your-knowledge {
          background-color: #e6ffe6; /* Light green background */
      }
      .test-your-knowledge h3 {
          color: #28a745; /* Dark green heading */
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .test-your-knowledge h4 {
          color: #000;
          font-size: 0.9em;
          margin-top: 10px;
          margin-bottom: 8px;
      }
      .test-your-knowledge p {
          margin-bottom: 15px;
      }
      .check-button {
          display: inline-block;
          padding: 10px 20px;
          margin-top: 15px;
          color: #ffffff;
          background-color: #28a745; /* Green background */
          border-radius: 5px;
          text-decoration: none;
          cursor: pointer;
          border: none;
          font-size: 1em;
      }
      .faq-section {
          background-color: #fffbea; /* Light yellow background */
      }
      .faq-section h3 {
          color: #ffcc00; /* Bright yellow heading */
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .faq-section h4 {
          color: #000;
          font-size: 0.9em;
          margin-top: 10px;
          margin-bottom: 8px;
      }
      .mathematical-explainer {
          background-color: #f5f5f5;
          border-left: 4px solid #007bff;
      }
      .mathematical-explainer h3 {
          color: #007bff;
          font-size: 0.9em;
          margin-bottom: 10px;
      }
      .step {
          margin-bottom: 15px;
      }
      .step-title {
          font-weight: bold;
          margin-bottom: 5px;
      }
      .exercise-problem {
          background-color: #f9f9f9;
          padding: 15px;
          border-radius: 8px;
          margin-bottom: 20px;
          border-left: 4px solid #28a745;
      }
      .problem-statement {
          margin-bottom: 15px;
      }
      .interactive-answer {
          background-color: #f0f0f0;
          padding: 15px;
          border-radius: 5px;
          margin-top: 10px;
      }
      .answer-field {
          margin-bottom: 10px;
      }
      .answer-field label {
          display: inline-block;
          width: 150px;
          font-weight: bold;
      }
      .answer-field input {
          padding: 5px;
          border-radius: 3px;
          border: 1px solid #ccc;
          width: 100px;
      }
      .answer-field textarea {
          width: 100%;
          height: 80px;
          padding: 5px;
          border-radius: 3px;
          border: 1px solid #ccc;
      }
      .solution {
          display: none;
          background-color: #e6ffe6;
          padding: 15px;
          border-radius: 5px;
          margin-top: 15px;
      }
      .solution-step {
          margin-bottom: 10px;
      }
      .final-answer {
          font-weight: bold;
          margin-top: 10px;
      }
  </style>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <section id="section1">
      <div class="image-placeholder">
          <img src="/placeholder.svg?height=300&width=600" alt="A cartoon character carefully measuring the slope of different activation function curves with a tiny ruler and protractor. Math symbols for derivatives (dφ/dz, φ'(z)) float around. Caption: 'Calculating the Inclines!'">
      </div>
      <h1>Exercise Lesson 13.1: Calculating Derivatives - The Slope Story!</h1>
      <p>Hey derivative detectives! In our conceptual Lesson 13, we explored <strong>Leaky ReLU</strong> as a solution to the 'dying ReLU' problem, and more importantly, we discussed <em>why</em> the <strong>derivatives</strong> of activation functions are so incredibly vital for training neural networks – they are the backbone of <strong>Backpropagation</strong> and gradient-based learning!</p>
      <p>Now, it's time to roll up our sleeves and practice calculating these derivative values for our common activation functions at specific input points $$z$$. This will help you connect the visual slope of the function with its actual derivative value. Ready to find some slopes?</p>
      <div class="continue-button" onclick="showNextSection(2)">Continue</div>
  </section>

  <section id="section2">
      <h2>Derivative Formulas: Our Toolkit</h2>
      <p>Before we jump into the problems, let's quickly recall the derivative formulas for the activation functions we'll be working with today (from Slide 22):</p>
      <div class="mathematical-explainer">
          <h3>Derivative Cheat Sheet ($$\phi'(z) = d\phi/dz$$)</h3>
          <div class="step">
              <div class="step-title">1. Sigmoid: $$\phi(z) = 1 / (1 + e^{-z})$$</div>
              <p>\[\phi'(z) = \phi(z)(1 - \phi(z))\]</p>
          </div>
          <div class="step">
              <div class="step-title">2. Tanh: $$\phi(z) = \tanh(z)$$</div>
              <p>\[\phi'(z) = 1 - \phi(z)^2 = 1 - \tanh^2(z)\]</p>
          </div>
          <div class="step">
              <div class="step-title">3. ReLU: $$\phi(z) = \max(0, z)$$</div>
              <p>\[\phi'(z) = \begin{cases} 1 & \text{if } z > 0 \\ 0 & \text{if } z < 0 \\ \text{handle pragmatically (e.g., 0 or 1)} & \text{if } z = 0 \end{cases}\]</p>
          </div>
          <div class="step">
              <div class="step-title">4. Leaky ReLU: $$\phi(z) = z$$ if $$z>0$$ else $$\delta z$$</div>
              <p>\[\phi'(z) = \begin{cases} 1 & \text{if } z > 0 \\ \delta & \text{if } z < 0 \\ \text{handle pragmatically (e.g., $$\delta$$ or 1)} & \text{if } z = 0 \end{cases}\]</p>
          </div>
      </div>
      <p>Keep these handy! For $$z=0$$ in ReLU and Leaky ReLU, we'll assume for these exercises that if the question implies a choice, you can pick one of the practical values (like 0 for ReLU, or $$\delta$$ for Leaky ReLU).</p>
      <div class="continue-button" onclick="showNextSection(3)">Continue</div>
  </section>

  <section id="section3">
      <h2>Difficulty 1: ReLU and Leaky ReLU Derivatives - Nice and Simple!</h2>
      <p>Let's start with the piecewise linear functions, as their derivatives are constant in segments.</p>
      
      <div class="exercise-problem">
          <div class="problem-statement">
              <p><strong>Problem 1:</strong> A neuron uses the <strong>ReLU</strong> activation function.</p>
              <p>a) If its net input $$z = 3$$, what is its activation $$a$$ and its derivative $$\phi'(z)$$?</p>
              <p>b) If its net input $$z = -2$$, what is its activation $$a$$ and its derivative $$\phi'(z)$$?</p>
              <p>c) If its net input $$z = 0$$, what is its activation $$a$$? What would be a practical value for $$\phi'(z)$$ here?</p>
          </div>
          <div class="interactive-answer">
              <div class="answer-field">
                  <label for="a_1311a">1a) a:</label>
                  <input type="number" id="a_1311a">
              </div>
              <div class="answer-field">
                  <label for="d_1311a">1a) φ'(z):</label>
                  <input type="number" id="d_1311a">
              </div>
              <div class="answer-field">
                  <label for="a_1311b">1b) a:</label>
                  <input type="number" id="a_1311b">
              </div>
              <div class="answer-field">
                  <label for="d_1311b">1b) φ'(z):</label>
                  <input type="number" id="d_1311b">
              </div>
              <div class="answer-field">
                  <label for="a_1311c">1c) a:</label>
                  <input type="number" id="a_1311c">
              </div>
              <div class="answer-field">
                  <label for="d_1311c">1c) φ'(z) (practical):</label>
                  <input type="number" id="d_1311c">
              </div>
              <button class="check-button" onclick="checkProblem1()">Check Answers</button>
          </div>
          <div class="solution" id="solution1">
              <h4>Solution:</h4>
              <div class="solution-step">
                  <p>a) For $$z = 3$$ (which is > 0):</p>
                  <p>\[a = \text{ReLU}(3) = \max(0,3) = 3 \newline \phi'(3) = 1\]</p>
              </div>
              <div class="solution-step">
                  <p>b) For $$z = -2$$ (which is < 0):</p>
                  <p>\[a = \text{ReLU}(-2) = \max(0,-2) = 0 \newline \phi'(-2) = 0\]</p>
              </div>
              <div class="solution-step">
                  <p>c) For $$z = 0$$:</p>
                  <p>\[a = \text{ReLU}(0) = \max(0,0) = 0 \newline \text{A practical value for } \phi'(0) \text{ could be 0 or 1 (let's say 0 for consistency with } z<0 \text{ behavior, or based on implementation choice).}\]</p>
              </div>
              <div class="final-answer">
                  <p>a) $$a=3, \phi'(z)=1$$  b) $$a=0, \phi'(z)=0$$  c) $$a=0, \phi'(z)$$ often taken as 0 or 1 (e.g., 0)</p>
              </div>
          </div>
      </div>
      
      <div class="exercise-problem">
          <div class="problem-statement">
              <p><strong>Problem 2:</strong> A neuron uses the <strong>Leaky ReLU</strong> activation function with $$\delta = 0.01$$.</p>
              <p>a) If its net input $$z = 4$$, what is $$a$$ and $$\phi'(z)$$?</p>
              <p>b) If its net input $$z = -100$$, what is $$a$$ and $$\phi'(z)$$?</p>
          </div>
          <div class="interactive-answer">
              <div class="answer-field">
                  <label for="a_1312a">2a) a:</label>
                  <input type="number" id="a_1312a">
              </div>
              <div class="answer-field">
                  <label for="d_1312a">2a) φ'(z):</label>
                  <input type="number" id="d_1312a">
              </div>
              <div class="answer-field">
                  <label for="a_1312b">2b) a:</label>
                  <input type="number" id="a_1312b">
              </div>
              <div class="answer-field">
                  <label for="d_1312b">2b) φ'(z):</label>
                  <input type="number" id="d_1312b">
              </div>
              <button class="check-button" onclick="checkProblem2()">Check Answers</button>
          </div>
          <div class="solution" id="solution2">
              <h4>Solution:</h4>
              <div class="solution-step">
                  <p>a) For $$z = 4$$ (which is > 0):</p>
                  <p>\[a = \text{Leaky ReLU}(4) = 4 \newline \phi'(4) = 1\]</p>
              </div>
              <div class="solution-step">
                  <p>b) For $$z = -100$$ (which is < 0):</p>
                  <p>\[a = \text{Leaky ReLU}(-100) = 0.01 \times (-100) = -1 \newline \phi'(-100) = \delta = 0.01\]</p>
              </div>
              <div class="final-answer">
                  <p>a) $$a=4, \phi'(z)=1$$  b) $$a=-1, \phi'(z)=0.01$$</p>
              </div>
          </div>
      </div>
      
      <p>See how straightforward ReLU and Leaky ReLU derivatives are? They are constant over large ranges, which contributes to their computational efficiency.</p>
      <div class="continue-button" onclick="showNextSection(4)">Continue</div>
  </section>

  <section id="section4">
      <h2>Difficulty 2: Sigmoid and Tanh Derivatives</h2>
      <p>Now for Sigmoid and Tanh, where the derivative itself depends on the function's output value $$\phi(z)$$.</p>
      
      <div class="exercise-problem">
          <div class="problem-statement">
              <p><strong>Problem 3:</strong> A neuron uses the <strong>Sigmoid</strong> activation function: $$\phi(z) = 1 / (1 + e^{-z})$$.</p>
              <p>Its derivative is $$\phi'(z) = \phi(z)(1 - \phi(z))$$.</p>
              <p>If the neuron's <em>output activation</em> $$a = \phi(z) = 0.8$$, what is the value of its derivative $$\phi'(z)$$ at that point?</p>
          </div>
          <div class="interactive-answer">
              <div class="answer-field">
                  <label for="d_1313">3) φ'(z):</label>
                  <input type="number" id="d_1313" step="0.01">
              </div>
              <button class="check-button" onclick="checkProblem3()">Check Answer</button>
          </div>
          <div class="solution" id="solution3">
              <h4>Solution:</h4>
              <div class="solution-step">
                  <p>1. We are given $$\phi(z) = 0.8$$.</p>
              </div>
              <div class="solution-step">
                  <p>2. Use the derivative formula: $$\phi'(z) = \phi(z)(1 - \phi(z))$$</p>
              </div>
              <div class="solution-step">
                  <p>Substitute $$\phi(z) = 0.8$$:</p>
                  <p>\[\phi'(z) = 0.8 \times (1 - 0.8)\]</p>
              </div>
              <div class="solution-step">
                  <p>Calculate:</p>
                  <p>\[\phi'(z) = 0.8 \times 0.2 = 0.16\]</p>
              </div>
              <div class="final-answer">
                  <p>$$\phi'(z) = 0.16$$</p>
              </div>
          </div>
      </div>
      
      <div class="exercise-problem">
          <div class="problem-statement">
              <p><strong>Problem 4:</strong> A neuron uses the <strong>Tanh</strong> activation function: $$\phi(z) = \tanh(z)$$.</p>
              <p>Its derivative is $$\phi'(z) = 1 - \phi(z)^2$$.</p>
              <p>If the neuron's net input $$z$$ is such that its <em>output activation</em> $$a = \phi(z) = -0.5$$, what is the value of its derivative $$\phi'(z)$$?</p>
          </div>
          <div class="interactive-answer">
              <div class="answer-field">
                  <label for="d_1314">4) φ'(z):</label>
                  <input type="number" id="d_1314" step="0.01">
              </div>
              <button class="check-button" onclick="checkProblem4()">Check Answer</button>
          </div>
          <div class="solution" id="solution4">
              <h4>Solution:</h4>
              <div class="solution-step">
                  <p>1. We are given $$\phi(z) = -0.5$$.</p>
              </div>
              <div class="solution-step">
                  <p>2. Use the derivative formula: $$\phi'(z) = 1 - \phi(z)^2$$</p>
              </div>
              <div class="solution-step">
                  <p>Substitute $$\phi(z) = -0.5$$:</p>
                  <p>\[\phi'(z) = 1 - (-0.5)^2\]</p>
              </div>
              <div class="solution-step">
                  <p>Calculate $$(-0.5)^2$$:</p>
                  <p>\[(-0.5)^2 = 0.25\]</p>
              </div>
              <div class="solution-step">
                  <p>Calculate $$\phi'(z)$$:</p>
                  <p>\[\phi'(z) = 1 - 0.25 = 0.75\]</p>
              </div>
              <div class="final-answer">
                  <p>$$\phi'(z) = 0.75$$</p>
              </div>
          </div>
      </div>
      
      <div class="stop-and-think">
          <h3>Stop and Think</h3>
          <h4>For Sigmoid, $$\phi'(z) = \phi(z)(1 - \phi(z))$$. What is the maximum possible value of this derivative, and at what value of $$\phi(z)$$ (and $$z$$) does it occur?</h4>
          <button class="reveal-button" onclick="revealAnswer('stop-and-think-1')">Reveal</button>
          <p id="stop-and-think-1" style="display: none;">The product $$x(1-x)$$ is maximized when $$x = 0.5$$. So, the maximum derivative for Sigmoid is $$0.5 * (1 - 0.5) = 0.25$$. This occurs when $$\phi(z) = 0.5$$, which happens when $$z = 0$$.</p>
      </div>
      
      <div class="continue-button" onclick="showNextSection(5)">Continue</div>
  </section>

  <section id="section5">
      <h2>Difficulty 3: Sketching Functions and Their Derivatives</h2>
      <p>This one is less about precise calculation and more about understanding the shapes and relationships.</p>
      
      <div class="exercise-problem">
          <div class="problem-statement">
              <p><strong>Problem 5:</strong> Consider a <strong>Leaky ReLU</strong> function with $$\delta = 0.2$$ (a slightly larger leak than usual for visibility).</p>
              <p>a) Sketch the graph of this Leaky ReLU activation function $$\phi(z)$$ from $$z = -3$$ to $$z = 3$$.</p>
              <p>b) On a separate set of axes, sketch the graph of its derivative $$\phi'(z)$$ over the same range.</p>
          </div>
          <div class="interactive-answer">
              <div class="answer-field">
                  <label for="sketch_phi_1315">Describe your sketch for φ(z) or upload image link:</label>
                  <textarea id="sketch_phi_1315"></textarea>
              </div>
              <div class="answer-field">
                  <label for="sketch_dphi_1315">Describe your sketch for φ'(z) or upload image link:</label>
                  <textarea id="sketch_dphi_1315"></textarea>
              </div>
              <p><em>For sketching, focus on getting the key points and slopes correct!</em></p>
              <button class="check-button" onclick="showSolution5()">Show Solution</button>
          </div>
          <div class="solution" id="solution5">
              <h4>Solution:</h4>
              <div class="solution-step">
                  <p>a) Sketching $$\phi(z)$$ for Leaky ReLU with $$\delta = 0.2$$:</p>
                  <p><strong>Explanation:</strong></p>
                  <ul>
                      <li>For $$z < 0$$, $$\phi(z) = 0.2z$$. This is a straight line through the origin with slope 0.2. At $$z=-3$$, $$\phi(z) = 0.2*(-3) = -0.6$$.</li>
                      <li>For $$z = 0$$, $$\phi(z) = 0$$.</li>
                      <li>For $$z > 0$$, $$\phi(z) = z$$. This is a straight line through the origin with slope 1. At $$z=3$$, $$\phi(z) = 3$$.</li>
                  </ul>
              </div>
              <div class="solution-step">
                  <p>b) Sketching $$\phi'(z)$$ for Leaky ReLU with $$\delta = 0.2$$:</p>
                  <p><strong>Explanation:</strong></p>
                  <ul>
                      <li>For $$z < 0$$, the slope of $$\phi(z)$$ is $$\delta = 0.2$$. So, $$\phi'(z) = 0.2$$.</li>
                      <li>For $$z > 0$$, the slope of $$\phi(z)$$ is $$1$$. So, $$\phi'(z) = 1$$.</li>
                      <li>At $$z = 0$$, the derivative is technically undefined, but it jumps from 0.2 to 1.</li>
                  </ul>
              </div>
              <div class="final-answer">
                  <p>The sketch for $$\phi(z)$$ would show a line from (-3, -0.6) to (0,0) and then a steeper line from (0,0) to (3,3). The sketch for $$\phi'(z)$$ would show a horizontal line at y=0.2 for z<0, and a horizontal line at y=1 for z>0, with a jump at z=0.</p>
              </div>
          </div>
      </div>
      
      <div class="visual-aid-placeholder">
          <img src="/placeholder.svg?height=300&width=600" alt="A side-by-side correct sketch of the Leaky ReLU function (with δ=0.2) and its derivative function, as described in the solution for Problem 5. Key points like (-3,-0.6), (0,0), (3,3) for φ(z) and the step heights 0.2 and 1 for φ'(z) should be clear.">
      </div>
      
      <p>Sketching these really helps visualize how the derivative reflects the slope of the activation function at every point!</p>
      <div class="continue-button" onclick="showNextSection(6)">Continue</div>
  </section>

  <section id="section6">
      <h2>Derivative Dynamo!</h2>
      <p>Excellent work navigating those derivative calculations and sketches!</p>
      <div class="image-placeholder">
          <img src="/placeholder.svg?height=300&width=600" alt="A graph of an activation function, with little tangent lines drawn at various points. The slopes of these tangent lines are shown as numbers, emphasizing the concept of the derivative as a slope.">
      </div>
      <p>Understanding how to find or use the derivative of an activation function is a key skill because:</p>
      <ul>
          <li>It's fundamental to <strong>Backpropagation</strong>, the algorithm used to train most neural networks.</li>
          <li>The magnitude of the derivative influences the <strong>speed of learning</strong> (small derivatives can lead to slow learning, i.e., vanishing gradients).</li>
          <li>It helps explain <em>why</em> certain activation functions (like ReLU and its variants) became popular for deep networks (they help maintain healthier gradients).</li>
      </ul>
      <p>You're building a really solid understanding of the inner workings of these neurons!</p>
      <div class="faq-section">
          <h3>Frequently Asked Questions</h3>
          <h4>Do I always need to calculate the activation $$\phi(z)$$ first before I can find the derivative $$\phi'(z)$$ for Sigmoid and Tanh?</h4>
          <p>Yes, for the common derivative formulas $$\phi'(z) = \phi(z)(1 - \phi(z))$$ (Sigmoid) and $$\phi'(z) = 1 - \phi(z)^2$$ (Tanh), you do need the value of $$\phi(z)$$ (the neuron's activation output) to calculate the derivative at that point $$z$$. This is actually quite convenient computationally during backpropagation, as the forward pass would have already computed $$\phi(z)$$, so it's readily available when needed for the backward pass gradient calculation.</p>
      </div>
      <div class="continue-button" onclick="showNextSection(7)">Continue</div>
  </section>

  <section id="section7">
      <h2>Next Adventures in Activation</h2>
      <p>We've looked at the 'core four' activation functions, a popular variant (Leaky ReLU), and now their derivatives.</p>
      <p>In our next conceptual lesson, we'll take a very quick peek at the <strong>broader family of activation functions</strong> that researchers have developed. You don't need to memorize them all, but it's good to know that the zoo is much larger than just these few exhibits! It'll give you a sense of the ongoing innovation in this space. See you there!</p>
      <div class="image-placeholder">
          <img src="/placeholder.svg?height=300&width=600" alt="A signpost pointing towards a path labeled 'More Exotic Activations Ahead!' with faint, intriguing graph shapes in the distance.">
      </div>
  </section>

  <script>
      // Show the first section initially
      document.getElementById("section1").style.display = "block";
      document.getElementById("section1").style.opacity = "1";

      function showNextSection(nextSectionId) {
          const currentButton = event.target;
          const nextSection = document.getElementById("section" + nextSectionId);
          
          currentButton.style.display = "none";
          
          nextSection.style.display = "block";
          setTimeout(() => {
              nextSection.style.opacity = "1";
          }, 10);

          setTimeout(() => {
              nextSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }, 500);
      }

      function revealAnswer(id) {
          const revealText = document.getElementById(id);
          const revealButton = event.target;
          
          revealText.style.display = "block";
          revealButton.style.display = "none";
      }
      
      function checkProblem1() {
          const a_1311a = parseFloat(document.getElementById("a_1311a").value);
          const d_1311a = parseFloat(document.getElementById("d_1311a").value);
          const a_1311b = parseFloat(document.getElementById("a_1311b").value);
          const d_1311b = parseFloat(document.getElementById("d_1311b").value);
          const a_1311c = parseFloat(document.getElementById("a_1311c").value);
          const d_1311c = parseFloat(document.getElementById("d_1311c").value);
          
          let correct = true;
          
          if (a_1311a !== 3) {
              document.getElementById("a_1311a").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("a_1311a").style.border = "2px solid green";
          }
          
          if (d_1311a !== 1) {
              document.getElementById("d_1311a").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("d_1311a").style.border = "2px solid green";
          }
          
          if (a_1311b !== 0) {
              document.getElementById("a_1311b").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("a_1311b").style.border = "2px solid green";
          }
          
          if (d_1311b !== 0) {
              document.getElementById("d_1311b").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("d_1311b").style.border = "2px solid green";
          }
          
          if (a_1311c !== 0) {
              document.getElementById("a_1311c").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("a_1311c").style.border = "2px solid green";
          }
          
          // For d_1311c, both 0 and 1 are acceptable
          if (d_1311c !== 0 && d_1311c !== 1) {
              document.getElementById("d_1311c").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("d_1311c").style.border = "2px solid green";
          }
          
          if (correct) {
              alert("All answers are correct! Great job!");
          } else {
              alert("Some answers are incorrect. Check the highlighted fields and try again.");
          }
          
          document.getElementById("solution1").style.display = "block";
      }
      
      function checkProblem2() {
          const a_1312a = parseFloat(document.getElementById("a_1312a").value);
          const d_1312a = parseFloat(document.getElementById("d_1312a").value);
          const a_1312b = parseFloat(document.getElementById("a_1312b").value);
          const d_1312b = parseFloat(document.getElementById("d_1312b").value);
          
          let correct = true;
          
          if (a_1312a !== 4) {
              document.getElementById("a_1312a").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("a_1312a").style.border = "2px solid green";
          }
          
          if (d_1312a !== 1) {
              document.getElementById("d_1312a").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("d_1312a").style.border = "2px solid green";
          }
          
          if (a_1312b !== -1) {
              document.getElementById("a_1312b").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("a_1312b").style.border = "2px solid green";
          }
          
          if (Math.abs(d_1312b - 0.01) > 0.001) {
              document.getElementById("d_1312b").style.border = "2px solid red";
              correct = false;
          } else {
              document.getElementById("d_1312b").style.border = "2px solid green";
          }
          
          if (correct) {
              alert("All answers are correct! Great job!");
          } else {
              alert("Some answers are incorrect. Check the highlighted fields and try again.");
          }
          
          document.getElementById("solution2").style.display = "block";
      }
      
      function checkProblem3() {
          const d_1313 = parseFloat(document.getElementById("d_1313").value);
          
          if (Math.abs(d_1313 - 0.16) < 0.01) {
              document.getElementById("d_1313").style.border = "2px solid green";
              alert("Correct! The derivative is 0.16");
          } else {
              document.getElementById("d_1313").style.border = "2px solid red";
              alert("Incorrect. Try again using the formula φ'(z) = φ(z)(1 - φ(z))");
          }
          
          document.getElementById("solution3").style.display = "block";
      }
      
      function checkProblem4() {
          const d_1314 = parseFloat(document.getElementById("d_1314").value);
          
          if (Math.abs(d_1314 - 0.75) < 0.01) {
              document.getElementById("d_1314").style.border = "2px solid green";
              alert("Correct! The derivative is 0.75");
          } else {
              document.getElementById("d_1314").style.border = "2px solid red";
              alert("Incorrect. Try again using the formula φ'(z) = 1 - φ(z)²");
          }
          
          document.getElementById("solution4").style.display = "block";
      }
      
      function showSolution5() {
          document.getElementById("solution5").style.display = "block";
      }
  </script>
</body>
</html>