<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Experiment Lesson 11.1: Activation Function Visualizer - Shape Shifters!</title>
  <style>
      body {
          font-family: Arial, sans-serif;
          max-width: 800px;
          margin: 0 auto;
          padding: 20px;
          background-color: #ffffff;
          font-size: 150%;
      }
      section {
          margin-bottom: 20px;
          padding: 20px;
          background-color: #ffffff;
          display: none;
          opacity: 0;
          transition: opacity 0.5s ease-in;
      }
      h1, h2, h3, h4 {
          color: #333;
          margin-top: 20px;
      }
      p, li {
          line-height: 1.6;
          color: #444;
          margin-bottom: 20px;
      }
      ul {
          padding-left: 20px;
      }
      .image-placeholder, .interactive-placeholder, .continue-button, .vocab-section, .why-it-matters, .test-your-knowledge, .faq-section, .stop-and-think {
          text-align: left;
      }
      .image-placeholder img, .interactive-placeholder img {
          max-width: 100%;
          height: auto;
          border-radius: 5px;
      }
      .vocab-section, .why-it-matters, .test-your-knowledge, .faq-section, .stop-and-think {
          padding: 20px;
          border-radius: 8px;
          margin-top: 20px;
      }
      .vocab-section {
          background-color: #f0f8ff;
      }
      .vocab-section h3 {
          color: #1e90ff;
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .vocab-section h4 {
          color: #000;
          font-size: 0.9em;
          margin-top: 10px;
          margin-bottom: 8px;
      }
      .vocab-term {
          font-weight: bold;
          color: #1e90ff;
      }
      .why-it-matters {
          background-color: #ffe6f0;
      }
      .why-it-matters h3 {
          color: #d81b60;
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .stop-and-think {
          background-color: #e6e6ff;
      }
      .stop-and-think h3 {
          color: #4b0082;
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .continue-button {
          display: inline-block;
          padding: 10px 20px;
          margin-top: 15px;
          color: #ffffff;
          background-color: #007bff;
          border-radius: 5px;
          text-decoration: none;
          cursor: pointer;
      }
      .reveal-button {
          display: inline-block;
          padding: 10px 20px;
          margin-top: 15px;
          color: #ffffff;
          background-color: #4b0082;
          border-radius: 5px;
          text-decoration: none;
          cursor: pointer;
      }
      .test-your-knowledge {
          background-color: #e6ffe6; /* Light green background */
      }
      .test-your-knowledge h3 {
          color: #28a745; /* Dark green heading */
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .test-your-knowledge h4 {
          color: #000;
          font-size: 0.9em;
          margin-top: 10px;
          margin-bottom: 8px;
      }
      .test-your-knowledge p {
          margin-bottom: 15px;
      }
      .check-button {
          display: inline-block;
          padding: 10px 20px;
          margin-top: 15px;
          color: #ffffff;
          background-color: #28a745; /* Green background */
          border-radius: 5px;
          text-decoration: none;
          cursor: pointer;
          border: none;
          font-size: 1em;
      }
      .faq-section {
          background-color: #fffbea; /* Light yellow background */
      }
      .faq-section h3 {
          color: #ffcc00; /* Bright yellow heading */
          font-size: 0.75em;
          margin-bottom: 5px;
          margin-top: 5px;
      }
      .faq-section h4 {
          color: #000;
          font-size: 0.9em;
          margin-top: 10px;
          margin-bottom: 8px;
      }
      /* Tabs for activation functions */
      .tabs {
          display: flex;
          flex-wrap: wrap;
          margin-bottom: 20px;
      }
      .tab-button {
          padding: 10px 20px;
          background-color: #f0f0f0;
          border: none;
          cursor: pointer;
          border-radius: 5px 5px 0 0;
          margin-right: 5px;
      }
      .tab-button.active {
          background-color: #007bff;
          color: white;
      }
      .tab-content {
          display: none;
          padding: 20px;
          border: 1px solid #ddd;
          border-radius: 0 5px 5px 5px;
          width: 100%;
      }
      .tab-content.active {
          display: block;
      }
      /* Graph styling */
      .graph-container {
          width: 100%;
          height: 300px;
          margin: 20px 0;
          position: relative;
          border: 1px solid #ddd;
          background-color: #f9f9f9;
      }
      .graph-axis {
          position: absolute;
          background-color: #333;
      }
      .x-axis {
          width: 100%;
          height: 2px;
          top: 50%;
          left: 0;
      }
      .y-axis {
          width: 2px;
          height: 100%;
          top: 0;
          left: 50%;
      }
      .function-line {
          position: absolute;
          background-color: #007bff;
          height: 2px;
      }
      .point {
          position: absolute;
          width: 10px;
          height: 10px;
          background-color: red;
          border-radius: 50%;
          transform: translate(-5px, -5px);
      }
      .slider-container {
          margin: 20px 0;
      }
      .equation {
          font-size: 1.2em;
          margin: 15px 0;
          text-align: center;
      }
      .output-display {
          margin: 15px 0;
          padding: 10px;
          background-color: #f0f0f0;
          border-radius: 5px;
      }
      /* Collapsible sections */
      .collapsible {
          background-color: #f1f1f1;
          color: #444;
          cursor: pointer;
          padding: 18px;
          width: 100%;
          border: none;
          text-align: left;
          outline: none;
          font-size: 15px;
          border-radius: 5px;
          margin-bottom: 5px;
      }
      .active-collapsible, .collapsible:hover {
          background-color: #ccc;
      }
      .collapsible:after {
          content: '\002B';
          color: #777;
          font-weight: bold;
          float: right;
          margin-left: 5px;
      }
      .active-collapsible:after {
          content: "\2212";
      }
      .collapsible-content {
          padding: 0 18px;
          max-height: 0;
          overflow: hidden;
          transition: max-height 0.2s ease-out;
          background-color: #f9f9f9;
          border-radius: 0 0 5px 5px;
      }
      /* Radio buttons for quiz */
      .quiz-option {
          margin: 10px 0;
      }
      .quiz-option label {
          margin-left: 10px;
      }
      .quiz-feedback {
          margin-top: 10px;
          padding: 10px;
          border-radius: 5px;
          display: none;
      }
      .correct-feedback {
          background-color: #d4edda;
          color: #155724;
      }
      .incorrect-feedback {
          background-color: #f8d7da;
          color: #721c24;
      }
  </style>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <section id="section1">
      <div class="image-placeholder">
          <img src="/placeholder.svg?height=300&width=600" alt="A fun image of a scientist character using a 'control panel' with sliders and buttons to dynamically change the shape of various activation function graphs displayed on a large screen. Caption: 'Tune in to the Functions!'">
      </div>
      <h1>Experiment Lesson 11.1: Activation Function Visualizer - Shape Shifters!</h1>
      <h2>Getting Hands-On with Activations</h2>
      <p>Hey function fanatics! In our conceptual Lesson 11, we had our first tour of the 'Activation Function Zoo' and met four key inhabitants: <strong>Identity, Sigmoid, Tanh, and ReLU</strong>. We saw their mathematical formulas and static graphs.</p>
      <p>Now, it's time to bring them to life! In this experiment lesson, you'll get to play with an <strong>Activation Function Visualizer</strong>. You'll be able to change the input to these functions and see exactly how their output responds, and how their characteristic shapes emerge. This hands-on experience will give you a much more intuitive feel for how these functions 'behave' and transform their inputs. Let's start experimenting!</p>
      <div class="continue-button" onclick="showNextSection(2)">Continue</div>
  </section>

  <section id="section2">
      <h2>Your Activation Control Panel</h2>
      <p>Imagine you have a control panel that lets you send different input signals ($$z$$) to our four main activation functions and observe their output ($$\phi(z)$$ or $$a$$).</p>
      
      <div class="interactive-placeholder">
          <div class="tabs">
              <button class="tab-button active" onclick="openTab(event, 'identity-tab')">Identity</button>
              <button class="tab-button" onclick="openTab(event, 'sigmoid-tab')">Sigmoid</button>
              <button class="tab-button" onclick="openTab(event, 'tanh-tab')">Tanh</button>
              <button class="tab-button" onclick="openTab(event, 'relu-tab')">ReLU</button>
          </div>
          
          <!-- Identity Tab -->
          <div id="identity-tab" class="tab-content active">
              <div class="equation">
                  <p>\[ \phi(z) = z \]</p>
              </div>
              <div class="graph-container" id="identity-graph">
                  <div class="graph-axis x-axis"></div>
                  <div class="graph-axis y-axis"></div>
                  <div class="point" id="identity-point"></div>
              </div>
              <div class="slider-container">
                  <label for="identity-slider">Input z: <span id="identity-z-value">0</span></label>
                  <input type="range" id="identity-slider" min="-5" max="5" step="0.1" value="0" oninput="updateIdentity(this.value)">
              </div>
              <div class="output-display">
                  <p>Current Input z: <span id="identity-input">0</span></p>
                  <p>Current Output φ(z): <span id="identity-output">0</span></p>
              </div>
              <div class="stop-and-think">
                  <h3>Observe</h3>
                  <p>Slide the $$z$$ input. What do you notice about the relationship between $$z$$ and $$\phi(z)$$? What's its output range?</p>
              </div>
          </div>
          
          <!-- Sigmoid Tab -->
          <div id="sigmoid-tab" class="tab-content">
              <div class="equation">
                  <p>\[ \phi(z) = \frac{1}{1 + e^{-z}} \]</p>
              </div>
              <div class="graph-container" id="sigmoid-graph">
                  <div class="graph-axis x-axis"></div>
                  <div class="graph-axis y-axis"></div>
                  <div class="point" id="sigmoid-point"></div>
              </div>
              <div class="slider-container">
                  <label for="sigmoid-slider">Input z: <span id="sigmoid-z-value">0</span></label>
                  <input type="range" id="sigmoid-slider" min="-10" max="10" step="0.1" value="0" oninput="updateSigmoid(this.value)">
              </div>
              <div class="output-display">
                  <p>Current Input z: <span id="sigmoid-input">0</span></p>
                  <p>Current Output φ(z): <span id="sigmoid-output">0.5</span></p>
              </div>
              <div class="stop-and-think">
                  <h3>Tasks</h3>
                  <p><strong>Task 1:</strong> Try to find the input $$z$$ that produces an output $$\phi(z)$$ of exactly 0.5.</p>
                  <p><strong>Task 2:</strong> What's the approximate output $$\phi(z)$$ when $$z$$ is very large and positive (e.g., z=10)?</p>
                  <p><strong>Task 3:</strong> What's the approximate output $$\phi(z)$$ when $$z$$ is very large and negative (e.g., z=-10)?</p>
                  <p><strong>Observation:</strong> What is the overall output range of the Sigmoid function? Notice how it 'squashes' the input.</p>
              </div>
          </div>
          
          <!-- Tanh Tab -->
          <div id="tanh-tab" class="tab-content">
              <div class="equation">
                  <p>\[ \phi(z) = \tanh(z) = \frac{e^z - e^{-z}}{e^z + e^{-z}} \]</p>
              </div>
              <div class="graph-container" id="tanh-graph">
                  <div class="graph-axis x-axis"></div>
                  <div class="graph-axis y-axis"></div>
                  <div class="point" id="tanh-point"></div>
              </div>
              <div class="slider-container">
                  <label for="tanh-slider">Input z: <span id="tanh-z-value">0</span></label>
                  <input type="range" id="tanh-slider" min="-10" max="10" step="0.1" value="0" oninput="updateTanh(this.value)">
              </div>
              <div class="output-display">
                  <p>Current Input z: <span id="tanh-input">0</span></p>
                  <p>Current Output φ(z): <span id="tanh-output">0</span></p>
              </div>
              <div class="stop-and-think">
                  <h3>Tasks</h3>
                  <p><strong>Task 1:</strong> What is the output $$\phi(z)$$ when $$z = 0$$?</p>
                  <p><strong>Task 2:</strong> What's the approximate output $$\phi(z)$$ when $$z$$ is very large and positive?</p>
                  <p><strong>Task 3:</strong> What's the approximate output $$\phi(z)$$ when $$z$$ is very large and negative?</p>
                  <p><strong>Observation:</strong> What is the overall output range of Tanh? How does it compare to Sigmoid, especially around $$z=0$$ (is it zero-centered)?</p>
              </div>
          </div>
          
          <!-- ReLU Tab -->
          <div id="relu-tab" class="tab-content">
              <div class="equation">
                  <p>\[ \phi(z) = \max(0, z) \]</p>
              </div>
              <div class="graph-container" id="relu-graph">
                  <div class="graph-axis x-axis"></div>
                  <div class="graph-axis y-axis"></div>
                  <div class="point" id="relu-point"></div>
              </div>
              <div class="slider-container">
                  <label for="relu-slider">Input z: <span id="relu-z-value">0</span></label>
                  <input type="range" id="relu-slider" min="-10" max="10" step="0.1" value="0" oninput="updateRelu(this.value)">
              </div>
              <div class="output-display">
                  <p>Current Input z: <span id="relu-input">0</span></p>
                  <p>Current Output φ(z): <span id="relu-output">0</span></p>
              </div>
              <div class="stop-and-think">
                  <h3>Tasks</h3>
                  <p><strong>Task 1:</strong> What is the output $$\phi(z)$$ for any negative input $$z$$ (e.g., z = -5, -2, -0.1)?</p>
                  <p><strong>Task 2:</strong> What is the output $$\phi(z)$$ when $$z = 0$$?</p>
                  <p><strong>Task 3:</strong> What is the output $$\phi(z)$$ when $$z = 5$$? How does it relate to $$z$$?</p>
                  <p><strong>Observation:</strong> What's the output range? Notice the 'cut-off' effect for negative values.</p>
              </div>
          </div>
      </div>
      
      <p>Playing around with these functions should give you a much better gut feeling for how they behave!</p>
      <p><strong>Let's summarize what you might have found:</strong></p>
      
      <div class="vocab-section">
          <h3>Build Your Vocab</h3>
          <h4 class="vocab-term">Saturation (of an activation function)</h4>
          <p>An activation function is said to 'saturate' when its output changes very little even for large changes in its input. This typically happens at the extreme ends of functions like Sigmoid and Tanh, where their graphs become very flat. This leads to very small gradients (derivatives), which can cause the vanishing gradient problem during training.</p>
      </div>
      
      <div class="continue-button" onclick="showNextSection(3)">Continue</div>
  </section>

  <section id="section3">
      <h2>Your Experimental Findings - A Quick Debrief</h2>
      <p>After using the visualizer, let's recap some key observations for each function:</p>
      
      <button class="collapsible">Identity Function Findings</button>
      <div class="collapsible-content">
          <p>- <strong>Relationship:</strong> $$\phi(z)$$ is always exactly equal to $$z$$. It's a straight line with a slope of 1 passing through the origin.</p>
          <p>- <strong>Output Range:</strong> $$(-\infty, +\infty)$$. It doesn't restrict the output at all.</p>
      </div>
      
      <button class="collapsible">Sigmoid Function Findings</button>
      <div class="collapsible-content">
          <p>- <strong>$$\phi(z) = 0.5$$ when:</strong> $$z = 0$$.</p>
          <p>- <strong>Large positive $$z$$ (e.g., z=10):</strong> $$\phi(z)$$ gets very close to $$1$$.</p>
          <p>- <strong>Large negative $$z$$ (e.g., z=-10):</strong> $$\phi(z)$$ gets very close to $$0$$.</p>
          <p>- <strong>Output Range:</strong> $$(0, 1)$$.</p>
          <p>- <strong>Saturation:</strong> You probably noticed that for $$z$$ values much beyond, say, +4 or -4, the output $$\phi(z)$$ changes very little. The function 'saturates' at these extremes.</p>
      </div>
      
      <button class="collapsible">Tanh Function Findings</button>
      <div class="collapsible-content">
          <p>- <strong>$$\phi(z) = 0$$ when:</strong> $$z = 0$$. This makes it 'zero-centered'.</p>
          <p>- <strong>Large positive $$z$$:</strong> $$\phi(z)$$ gets very close to $$1$$.</p>
          <p>- <strong>Large negative $$z$$:</strong> $$\phi(z)$$ gets very close to $$-1$$.</p>
          <p>- <strong>Output Range:</strong> $$(-1, 1)$$.</p>
          <p>- <strong>Saturation:</strong> Similar to Sigmoid, Tanh also saturates at its extremes (near -1 and 1).</p>
      </div>
      
      <button class="collapsible">ReLU Function Findings</button>
      <div class="collapsible-content">
          <p>- <strong>Negative $$z$$:</strong> $$\phi(z)$$ is always $$0$$.</p>
          <p>- <strong>$$z = 0$$:</strong> $$\phi(0) = 0$$.</p>
          <p>- <strong>Positive $$z$$ (e.g., z=5):</strong> $$\phi(z) = z$$ (so, $$\phi(5) = 5$$).</p>
          <p>- <strong>Output Range:</strong> $$[0, +\infty)$$.</p>
          <p>- <strong>Saturation:</strong> ReLU <em>doesn't</em> saturate for positive inputs (its slope remains 1). It only 'saturates' (becomes flat with slope 0) for all negative inputs.</p>
      </div>
      
      <div class="why-it-matters">
          <h3>Why It Matters</h3>
          <p>This hands-on feel for how activation functions transform inputs is crucial. When you're designing or debugging a neural network, understanding what kind of values are flowing out of your neurons (due to their activation functions) can help you reason about the network's behavior and potential issues like vanishing gradients or dying neurons.</p>
      </div>
      
      <div class="continue-button" onclick="showNextSection(4)">Continue</div>
  </section>

  <section id="section4">
      <h2>Experiment Complete!</h2>
      <div class="image-placeholder">
          <img src="/placeholder.svg?height=300&width=600" alt="A screen showing all four activation function graphs neatly arranged, with checkmarks next to each, as if a lab experiment has been successfully completed. A 'Data Logger' shows example input/output pairs.">
      </div>
      <p>Fantastic work experimenting with the Activation Function Visualizer!</p>
      <p>By interacting with these functions, you've hopefully gained a much more intuitive understanding of:</p>
      <ul>
          <li>Their characteristic <strong>shapes</strong>.</li>
          <li>Their distinct <strong>output ranges</strong>.</li>
          <li>How they <strong>transform</strong> a wide range of input $$z$$ values.</li>
          <li>The concept of <strong>saturation</strong> for functions like Sigmoid and Tanh.</li>
      </ul>
      <p>This visual and interactive experience complements the mathematical formulas and static graphs, giving you a more holistic understanding.</p>
      
      <div class="faq-section">
          <h3>Frequently Asked Questions</h3>
          <h4>Are the 'z' values usually small, or can they get very large in a real network?</h4>
          <p>The net input $$z$$ to a neuron can indeed vary quite a lot during training and inference! It depends on the input data $$x$$, the current values of the weights $$w$$, and the bias $$b$$. Initially, weights might be random, leading to a wide range of $$z$$ values. As the network trains, the weights and biases adjust. Ideally, for functions like Sigmoid or Tanh in hidden layers, the network might learn to keep $$z$$ values in a range where the function is more 'active' (i.e., not saturated) to allow for better gradient flow. However, saturation can still occur, which is why functions like ReLU (which doesn't saturate for positive inputs) became popular.</p>
      </div>
      
      <div class="test-your-knowledge">
          <h3>Test Your Knowledge</h3>
          <h4>Which of these four activation functions (Identity, Sigmoid, Tanh, ReLU) is 'zero-centered' in its output, meaning its output can be both positive and negative and is centered around an output of 0 when the input z is 0?</h4>
          <div class="quiz-option">
              <input type="radio" id="option1" name="quiz" value="identity">
              <label for="option1">Identity</label>
          </div>
          <div class="quiz-option">
              <input type="radio" id="option2" name="quiz" value="sigmoid">
              <label for="option2">Sigmoid</label>
          </div>
          <div class="quiz-option">
              <input type="radio" id="option3" name="quiz" value="tanh">
              <label for="option3">Tanh</label>
          </div>
          <div class="quiz-option">
              <input type="radio" id="option4" name="quiz" value="relu">
              <label for="option4">ReLU</label>
          </div>
          <button class="check-button" onclick="checkQuizAnswer()">Check Answer</button>
          <div id="feedback-identity" class="quiz-feedback incorrect-feedback">
              <p>Identity is zero-centered at z=0 (output is 0), and can be positive or negative, but its range isn't squashed like Tanh.</p>
          </div>
          <div id="feedback-sigmoid" class="quiz-feedback incorrect-feedback">
              <p>Sigmoid's output is always between 0 and 1, so it's not zero-centered.</p>
          </div>
          <div id="feedback-tanh" class="quiz-feedback correct-feedback">
              <p>Correct! Tanh outputs between -1 and 1, and tanh(0) = 0, making it nicely zero-centered.</p>
          </div>
          <div id="feedback-relu" class="quiz-feedback incorrect-feedback">
              <p>ReLU outputs 0 for z=0, but its output is always non-negative (0 or positive), so it's not zero-centered in the same way as Tanh.</p>
          </div>
      </div>
      
      <div class="continue-button" onclick="showNextSection(5)">Continue</div>
  </section>

  <section id="section5">
      <h2>Next: Deeper Dives and Derivatives</h2>
      <p>Now that you've played with these functions and seen their behavior first-hand, we're ready to go even deeper.</p>
      <p>In our next conceptual lesson (Lesson 12), we'll formally discuss the <strong>properties, typical use cases, and the pros and cons</strong> of each of these functions in more detail, building on the observations you've just made. We'll also start talking more about their <strong>derivatives</strong> and why those are so critical for the learning process. Your hands-on experience here will make those discussions much more meaningful!</p>
      <div class="image-placeholder">
          <img src="/placeholder.svg?height=300&width=600" alt="A path splitting: one arrow labeled 'Properties & Use Cases', another labeled 'Derivatives & Learning'. Both paths lead from the 'Activation Function Zoo'.">
      </div>
  </section>

  <script>
      // Show the first section initially
      document.getElementById("section1").style.display = "block";
      document.getElementById("section1").style.opacity = "1";

      function showNextSection(nextSectionId) {
          const currentButton = event.target;
          const nextSection = document.getElementById("section" + nextSectionId);
          
          currentButton.style.display = "none";
          
          nextSection.style.display = "block";
          setTimeout(() => {
              nextSection.style.opacity = "1";
          }, 10);

          setTimeout(() => {
              nextSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }, 500);
      }

      // Tab functionality
      function openTab(evt, tabName) {
          var i, tabcontent, tabbuttons;
          
          // Hide all tab content
          tabcontent = document.getElementsByClassName("tab-content");
          for (i = 0; i < tabcontent.length; i++) {
              tabcontent[i].className = tabcontent[i].className.replace(" active", "");
          }
          
          // Remove "active" class from all tab buttons
          tabbuttons = document.getElementsByClassName("tab-button");
          for (i = 0; i < tabbuttons.length; i++) {
              tabbuttons[i].className = tabbuttons[i].className.replace(" active", "");
          }
          
          // Show the current tab and add "active" class to the button
          document.getElementById(tabName).className += " active";
          evt.currentTarget.className += " active";
      }

      // Draw function graphs
      function drawIdentityGraph() {
          const graph = document.getElementById('identity-graph');
          const width = graph.offsetWidth;
          const height = graph.offsetHeight;
          const scale = 30; // pixels per unit
          
          // Clear previous lines
          const oldLines = graph.querySelectorAll('.function-line:not(.graph-axis)');
          oldLines.forEach(line => line.remove());
          
          // Draw identity function (y = x)
          for (let x = -5; x < 5; x += 0.1) {
              const y = x;
              const xPixel = (x * scale) + (width / 2);
              const yPixel = (height / 2) - (y * scale);
              
              const line = document.createElement('div');
              line.className = 'function-line';
              line.style.width = '2px';
              line.style.height = '2px';
              line.style.left = xPixel + 'px';
              line.style.top = yPixel + 'px';
              graph.appendChild(line);
          }
      }

      function drawSigmoidGraph() {
          const graph = document.getElementById('sigmoid-graph');
          const width = graph.offsetWidth;
          const height = graph.offsetHeight;
          const scale = 15; // pixels per unit
          
          // Clear previous lines
          const oldLines = graph.querySelectorAll('.function-line:not(.graph-axis)');
          oldLines.forEach(line => line.remove());
          
          // Draw sigmoid function
          for (let x = -10; x < 10; x += 0.1) {
              const y = 1 / (1 + Math.exp(-x));
              const xPixel = (x * scale) + (width / 2);
              const yPixel = (height) - (y * height);
              
              const line = document.createElement('div');
              line.className = 'function-line';
              line.style.width = '2px';
              line.style.height = '2px';
              line.style.left = xPixel + 'px';
              line.style.top = yPixel + 'px';
              graph.appendChild(line);
          }
      }

      function drawTanhGraph() {
          const graph = document.getElementById('tanh-graph');
          const width = graph.offsetWidth;
          const height = graph.offsetHeight;
          const scale = 15; // pixels per unit
          
          // Clear previous lines
          const oldLines = graph.querySelectorAll('.function-line:not(.graph-axis)');
          oldLines.forEach(line => line.remove());
          
          // Draw tanh function
          for (let x = -10; x < 10; x += 0.1) {
              const y = Math.tanh(x);
              const xPixel = (x * scale) + (width / 2);
              const yPixel = (height / 2) - (y * height / 2);
              
              const line = document.createElement('div');
              line.className = 'function-line';
              line.style.width = '2px';
              line.style.height = '2px';
              line.style.left = xPixel + 'px';
              line.style.top = yPixel + 'px';
              graph.appendChild(line);
          }
      }

      function drawReluGraph() {
          const graph = document.getElementById('relu-graph');
          const width = graph.offsetWidth;
          const height = graph.offsetHeight;
          const scale = 15; // pixels per unit
          
          // Clear previous lines
          const oldLines = graph.querySelectorAll('.function-line:not(.graph-axis)');
          oldLines.forEach(line => line.remove());
          
          // Draw ReLU function
          for (let x = -10; x < 10; x += 0.1) {
              const y = Math.max(0, x);
              const xPixel = (x * scale) + (width / 2);
              const yPixel = (height / 2) - (y * scale);
              
              const line = document.createElement('div');
              line.className = 'function-line';
              line.style.width = '2px';
              line.style.height = '2px';
              line.style.left = xPixel + 'px';
              line.style.top = yPixel + 'px';
              graph.appendChild(line);
          }
      }

      // Update functions for sliders
      function updateIdentity(value) {
          const z = parseFloat(value);
          const output = z;
          
          document.getElementById('identity-z-value').textContent = z.toFixed(1);
          document.getElementById('identity-input').textContent = z.toFixed(1);
          document.getElementById('identity-output').textContent = output.toFixed(1);
          
          const graph = document.getElementById('identity-graph');
          const width = graph.offsetWidth;
          const height = graph.offsetHeight;
          const scale = 30; // pixels per unit
          
          const point = document.getElementById('identity-point');
          const xPixel = (z * scale) + (width / 2);
          const yPixel = (height / 2) - (output * scale);
          
          point.style.left = xPixel + 'px';
          point.style.top = yPixel + 'px';
      }

      function updateSigmoid(value) {
          const z = parseFloat(value);
          const output = 1 / (1 + Math.exp(-z));
          
          document.getElementById('sigmoid-z-value').textContent = z.toFixed(1);
          document.getElementById('sigmoid-input').textContent = z.toFixed(1);
          document.getElementById('sigmoid-output').textContent = output.toFixed(4);
          
          const graph = document.getElementById('sigmoid-graph');
          const width = graph.offsetWidth;
          const height = graph.offsetHeight;
          const scale = 15; // pixels per unit
          
          const point = document.getElementById('sigmoid-point');
          const xPixel = (z * scale) + (width / 2);
          const yPixel = (height) - (output * height);
          
          point.style.left = xPixel + 'px';
          point.style.top = yPixel + 'px';
      }

      function updateTanh(value) {
          const z = parseFloat(value);
          const output = Math.tanh(z);
          
          document.getElementById('tanh-z-value').textContent = z.toFixed(1);
          document.getElementById('tanh-input').textContent = z.toFixed(1);
          document.getElementById('tanh-output').textContent = output.toFixed(4);
          
          const graph = document.getElementById('tanh-graph');
          const width = graph.offsetWidth;
          const height = graph.offsetHeight;
          const scale = 15; // pixels per unit
          
          const point = document.getElementById('tanh-point');
          const xPixel = (z * scale) + (width / 2);
          const yPixel = (height / 2) - (output * height / 2);
          
          point.style.left = xPixel + 'px';
          point.style.top = yPixel + 'px';
      }

      function updateRelu(value) {
          const z = parseFloat(value);
          const output = Math.max(0, z);
          
          document.getElementById('relu-z-value').textContent = z.toFixed(1);
          document.getElementById('relu-input').textContent = z.toFixed(1);
          document.getElementById('relu-output').textContent = output.toFixed(1);
          
          const graph = document.getElementById('relu-graph');
          const width = graph.offsetWidth;
          const height = graph.offsetHeight;
          const scale = 15; // pixels per unit
          
          const point = document.getElementById('relu-point');
          const xPixel = (z * scale) + (width / 2);
          const yPixel = (height / 2) - (output * scale);
          
          point.style.left = xPixel + 'px';
          point.style.top = yPixel + 'px';
      }

      // Initialize graphs and points
      window.onload = function() {
          drawIdentityGraph();
          drawSigmoidGraph();
          drawTanhGraph();
          drawReluGraph();
          
          updateIdentity(0);
          updateSigmoid(0);
          updateTanh(0);
          updateRelu(0);
          
          // Set up collapsible sections
          var coll = document.getElementsByClassName("collapsible");
          for (var i = 0; i < coll.length; i++) {
              coll[i].addEventListener("click", function() {
                  this.classList.toggle("active-collapsible");
                  var content = this.nextElementSibling;
                  if (content.style.maxHeight) {
                      content.style.maxHeight = null;
                  } else {
                      content.style.maxHeight = content.scrollHeight + "px";
                  }
              });
          }
      };

      // Quiz functionality
      function checkQuizAnswer() {
          const selectedOption = document.querySelector('input[name="quiz"]:checked');
          if (!selectedOption) return;
          
          const value = selectedOption.value;
          
          // Hide all feedback
          document.querySelectorAll('.quiz-feedback').forEach(el => {
              el.style.display = 'none';
          });
          
          // Show feedback for selected option
          document.getElementById('feedback-' + value).style.display = 'block';
      }
  </script>
</body>
</html>