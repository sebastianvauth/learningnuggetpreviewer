<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hacking Frequencies - Filtering in the DCT Domain</title>
<style>
* {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #ffffff;
            min-height: 100vh;
            color: #2d3748;
            line-height: 1.6;
        }

        /* Progress Bar */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(79, 172, 254, 0.5);
        }



        /* Main Container */
        .lesson-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Section Cards */
        section {
            background: transparent;
            margin-bottom: 30px;
            padding: 20px 0;
            display: none;
            opacity: 0;
            transition: all 0.6s ease;
            transform: translateY(20px);
        }

        section.visible {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Typography */
        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        h2 {
            font-size: 2rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: #4a5568;
            margin-bottom: 1rem;
        }

        p {
            font-size: 1.125rem;
            line-height: 1.7;
            color: #4a5568;
            margin-bottom: 1.5rem;
        }

        ul {
            margin-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        li {
            font-size: 1.125rem;
            line-height: 1.7;
            color: #4a5568;
            margin-bottom: 0.5rem;
        }

        strong {
            color: #2d3748;
            font-weight: 600;
        }

        em {
            color: #667eea;
            font-style: normal;
            font-weight: 500;
        }

        /* Image Placeholders */
        .image-placeholder {
            margin: 2rem 0;
        }

        /* Confetti Animation */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            overflow: hidden;
        }

        .confetti {
            position: absolute;
            font-size: 20px;
            animation: confetti-fall 3s linear infinite;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        .confetti:nth-child(odd) {
            animation-duration: 2.5s;
            animation-delay: 0.2s;
        }

        .confetti:nth-child(even) {
            animation-duration: 3.5s;
            animation-delay: 0.5s;
        }

        .confetti:nth-child(3n) {
            animation-duration: 2.8s;
            animation-delay: 0.8s;
        }

        .confetti:nth-child(4n) {
            animation-duration: 3.2s;
            animation-delay: 0.3s;
        }

        .confetti:nth-child(5n) {
            animation-duration: 2.7s;
            animation-delay: 0.7s;
        }

        /* Success Message Animation */
        .success-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.2em;
            font-weight: 600;
            box-shadow: 0 10px 25px rgba(40, 167, 69, 0.3);
            z-index: 10000;
            opacity: 0;
            animation: success-popup 2.5s ease-out;
            pointer-events: none;
        }

        @keyframes success-popup {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            20% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.1);
            }
            40% {
                transform: translate(-50%, -50%) scale(1);
            }
            80% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.9);
            }
        }

        .image-placeholder img {
            width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        
        /* Specific sizing for individual images by section */
        #section1 .image-placeholder img {
            width: 70% !important;              /* Image 1: 70% (dramatic light beam) */
            max-width: 500px !important;
        }

        #section6 .image-placeholder img {
            width: 55% !important;              /* Image 2: 50-60% (meme image) */
            max-width: 400px !important;
        }
        
        #section9 .image-placeholder img {
            width: 85% !important;              /* Image 3: 80-90% (prism diagram) */
            max-width: 600px !important;
        }
        
        #section13 .image-placeholder img {
            width: 85% !important;              /* Image 4: 80-90% (red object) */
            max-width: 600px !important;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            #section1 .image-placeholder img {
                width: 80% !important;
                max-width: 400px !important;
            }

            #section6 .image-placeholder img {
                width: 65% !important;
                max-width: 350px !important;
            }
            
            #section9 .image-placeholder img,
            #section13 .image-placeholder img {
                width: 90% !important;
                max-width: 450px !important;
            }
        }
        
        @media (max-width: 480px) {
            #section1 .image-placeholder img {
                width: 85% !important;
                max-width: 300px !important;
            }

            #section6 .image-placeholder img {
                width: 75% !important;
                max-width: 280px !important;
            }
            
            #section9 .image-placeholder img,
            #section13 .image-placeholder img {
                width: 95% !important;
                max-width: 320px !important;
            }
        }

        /* Content Boxes */
        .vocab-section, .why-it-matters, .test-your-knowledge, .faq-section, 
        .stop-and-think, .check-your-knowledge {
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 8px;
            border-left: 4px solid;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .vocab-section::before, .why-it-matters::before, .test-your-knowledge::before,
        .faq-section::before, .stop-and-think::before, .check-your-knowledge::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.05;
            z-index: 0;
        }

        .vocab-section {
            background: linear-gradient(135deg, #e6f3ff 0%, #f0f8ff 100%);
            border-left-color: #4facfe;
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.1);
        }

        .vocab-section::before {
            background: linear-gradient(45deg, #4facfe, #00f2fe);
        }

        .why-it-matters {
            background: linear-gradient(135deg, #ffeef7 0%, #fff0f8 100%);
            border-left-color: #f093fb;
            box-shadow: 0 10px 30px rgba(240, 147, 251, 0.1);
        }

        .why-it-matters::before {
            background: linear-gradient(45deg, #f093fb, #f5576c);
        }

        .test-your-knowledge, .check-your-knowledge {
            background: linear-gradient(135deg, #eafaf1 0%, #f0fcf4 100%);
            border-left-color: #68d391;
            box-shadow: 0 10px 30px rgba(104, 211, 145, 0.1);
        }

        .test-your-knowledge::before, .check-your-knowledge::before {
            background: linear-gradient(45deg, #68d391, #4fd1c7);
        }

        .faq-section {
            background: linear-gradient(135deg, #fffbeb 0%, #fefcf3 100%);
            border-left-color: #fbbf24;
            box-shadow: 0 10px 30px rgba(251, 191, 36, 0.1);
        }

        .faq-section::before {
            background: linear-gradient(45deg, #fbbf24, #f59e0b);
        }

        .stop-and-think {
            background: linear-gradient(135deg, #f3e8ff 0%, #f8f4ff 100%);
            border-left-color: #a78bfa;
            box-shadow: 0 10px 30px rgba(167, 139, 250, 0.1);
        }

        .stop-and-think::before {
            background: linear-gradient(45deg, #a78bfa, #8b5cf6);
        }

        .vocab-section:hover, .why-it-matters:hover, .test-your-knowledge:hover,
        .faq-section:hover, .stop-and-think:hover, .check-your-knowledge:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .vocab-section h3 {
            color: #0ea5e9;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .why-it-matters h3 {
            color: #ec4899;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .test-your-knowledge h3, .check-your-knowledge h3 {
            color: #10b981;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .faq-section h3 {
            color: #d97706;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .stop-and-think h3 {
            color: #8b5cf6;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 700;
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }

        .vocab-section h4, .test-your-knowledge h4, .check-your-knowledge h4, .faq-section h4 {
            color: #2d3748;
            font-size: 1.25rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem 0;
            position: relative;
            z-index: 1;
        }

        .vocab-term {
            color: #0ea5e9;
            font-weight: 600;
        }

        /* Buttons */
        .continue-button, .reveal-button, .check-button {
            display: inline-block;
            padding: 16px 32px;
            margin-top: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50px;
            text-decoration: none;
            cursor: pointer;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .continue-button::before, .reveal-button::before, .check-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .continue-button:hover, .reveal-button:hover, .check-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }

        .continue-button:hover::before, .reveal-button:hover::before, .check-button:hover::before {
            left: 100%;
        }

        .continue-button:active, .reveal-button:active, .check-button:active {
            transform: translateY(-1px);
        }

        /* Hidden state for conditional buttons */
        .continue-button[style*="display: none"] {
            display: none !important;
        }

        /* Ensure all conditional continue buttons match normal button styling exactly when shown */
        #continue-after-interactive:not([style*="display: none"]),
        #continue-after-check-knowledge:not([style*="display: none"]),
        #continue-after-test-knowledge:not([style*="display: none"]) {
            display: inline-block !important;
            width: auto !important;
            max-width: none !important;
            min-width: auto !important;
            padding: 16px 32px !important;
            margin: 30px auto !important;
            box-sizing: border-box !important;
        }

        /* Center ALL continue buttons by making all sections center them */
        section {
            text-align: center;
        }

        /* Reset text alignment for all content except continue buttons */
        section > *:not(.continue-button) {
            text-align: left;
        }

        /* Ensure content boxes also have left alignment */
        .check-your-knowledge,
        .test-your-knowledge,
        .vocab-section,
        .why-it-matters,
        .faq-section,
        .stop-and-think {
            text-align: left;
        }

        /* Smooth appearance for conditional continue buttons */
        .continue-button.show-with-animation {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Multiple Choice */
        .multiple-choice {
            margin: 1.5rem 0;
        }

        .choice-option {
            display: block;
            margin: 1rem 0;
            padding: 1.5rem;
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .choice-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 0;
        }

        .choice-option:hover {
            transform: translateX(5px);
            border-color: rgba(102, 126, 234, 0.3);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.15);
        }

        .choice-option:hover::before {
            opacity: 0.05;
        }

        .choice-option.selected, .choice-option.correct {
            background: linear-gradient(135deg, #eafaf1 0%, #f0fcf4 100%);
            border-color: #68d391;
            color: #2d3748;
        }

        .choice-option.incorrect {
            background: linear-gradient(135deg, #fef2f2 0%, #fef7f7 100%);
            border-color: #f87171;
            color: #2d3748;
        }

        .choice-explanation {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: #f1f5f9;
            border-radius: 8px;
            font-size: 0.9rem;
            line-height: 1.6;
            animation: fadeIn 0.5s ease;
            position: relative;
            z-index: 1;
        }

        /* Spectrum Explorer - keeping the interactive styles but updating colors */
        .spectrum-explorer {
            position: relative;
            width: 100%;
            max-width: 100%;
            margin: 2rem 0;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            padding: 40px;
        }

        .stage {
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .stage-text h3 {
            font-size: 1.75rem;
            font-weight: 600;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0 0 16px 0;
        }

        .instruction {
            font-size: 1.1rem;
            color: #6b7280;
            margin: 0;
            padding: 16px 24px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            border: 2px dashed rgba(102, 126, 234, 0.3);
        }

        .continue-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 16px 32px;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }

        .revelation-text h3 {
            font-size: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0 0 16px 0;
        }

        .spectrum-point {
            border-radius: 16px;
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
            background: #ffffff;
        }

        .spectrum-point:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.3);
        }

        .spectrum-point.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
        }

        .info-panel {
            background: #ffffff;
            border-radius: 16px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 24px;
        }

        .region-title {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hook {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .lesson-container {
                padding: 20px 15px;
            }

            section {
                padding: 15px 0;
                margin-bottom: 20px;
            }

            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.75rem;
            }

            p, li {
                font-size: 1rem;
            }



            .continue-button, .reveal-button, .check-button {
                width: 100%;
            text-align: center;
                margin-top: 1.5rem;
            }

            .spectrum-explorer {
                padding: 20px;
            }

            .choice-option {
                padding: 1rem;
            }

            .mark-completed-button {
                padding: 14px 28px;
                font-size: 0.9rem;
                margin: 30px auto 15px auto;
            }
        }

        @media (max-width: 480px) {
            .lesson-container {
                padding: 15px 10px;
            }

            section {
                padding: 10px 0;
            }

            h1 {
                font-size: 1.75rem;
            }

            .vocab-section, .why-it-matters, .test-your-knowledge, 
            .faq-section, .stop-and-think, .check-your-knowledge {
                padding: 1.5rem;
            }

            .mark-completed-button {
                padding: 12px 24px;
                font-size: 0.85rem;
                margin: 25px auto 10px auto;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Accessibility */
        .choice-option:focus {
            outline: 2px solid #667eea;
            outline-offset: 2px;
        }

        .continue-button:focus, .reveal-button:focus, .check-button:focus {
            outline: 2px solid white;
            outline-offset: 2px;
        }

        /* Content positioning */
        .vocab-section *, .why-it-matters *, .test-your-knowledge *, 
        .faq-section *, .stop-and-think *, .check-your-knowledge * {
            position: relative;
            z-index: 1;
        }

        /* Mark as Completed Button */
        .mark-completed-button {
            display: none;
            width: 100%;
            max-width: 400px;
            margin: 40px auto 20px auto;
            padding: 16px 32px;
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(72, 187, 120, 0.3);
            text-align: center;
            text-decoration: none;
        }

        .mark-completed-button.show {
            display: block;
        }

        .mark-completed-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(72, 187, 120, 0.4);
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
        }

        .mark-completed-button:active {
            transform: translateY(0);
        }

        .mark-completed-button.completed {
            background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%);
            box-shadow: 0 4px 20px rgba(148, 163, 184, 0.3);
            cursor: default;
        }

        .mark-completed-button.completed:hover {
            background: linear-gradient(135deg, #94a3b8 0%, #64748b 100%);
            box-shadow: 0 4px 20px rgba(148, 163, 184, 0.3);
            transform: none;
        }

        /* Success Message */
        .lesson-success-message {
            text-align: center;
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 600;
            margin: 20px auto;
            max-width: 300px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .lesson-success-message.show {
            opacity: 1;
            transform: translateY(0);
        }



        /* Spectrum Explorer specific modern styles */
        .spectrum-explorer {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
        }

        .prism-svg {
            cursor: pointer;
            user-select: none;
            margin-bottom: 24px;
            filter: drop-shadow(0 10px 30px rgba(0,0,0,0.1));
            border-radius: 12px;
        }

        .visible-indicator {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid #667eea;
            color: #667eea;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
        }

        .scale-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
            color: #6b7280;
            font-weight: 500;
        }

        .scale-label.visible {
            color: #667eea;
            font-weight: 600;
        }

        .exploration-progress {
            text-align: center;
            margin-top: 20px;
            padding: 16px;
            background: rgba(102, 126, 234, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
        }

        .progress-text {
            font-size: 0.875rem;
            color: #667eea;
            font-weight: 600;
        }



        /* Keep all other spectrum explorer functionality styles */
        .spectrum-bar {
            position: relative;
            width: 100%;
            height: 60px;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        #spectrum-canvas {
            width: 100%;
            height: 100%;
            border-radius: 12px;
        }

        .spectrum-points {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0 0 24px 0;
            gap: 8px;
        }

        .spectrum-point {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            padding: 12px 8px;
            cursor: pointer;
            min-width: 80px;
            outline: none;
        }

        .point-icon {
            font-size: 1.5rem;
        }
        
        .point-label {
            font-size: 0.75rem;
            font-weight: 600;
            text-align: center;
        }

        .energy-scale {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .energy-label {
            font-size: 0.875rem;
            color: #6b7280;
            white-space: nowrap;
            font-weight: 500;
        }

        .energy-bar {
            flex: 1;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
        }

        .energy-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981 0%, #f59e0b 50%, #ef4444 100%);
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .panel-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .panel-header .region-icon {
            color: initial !important;
            background: none !important;
            -webkit-text-fill-color: initial !important;
            background-clip: initial !important;
        }
        
        /* Fix emoji colors in revelation text and all spectrum content */
        .revelation-text h3,
        .revelation-text,
        .spectrum-point .point-icon,
        h3 {
            color: inherit;
        }
        
        /* Target emojis specifically to prevent color inheritance */
        .revelation-text h3::after,
        .revelation-text h3 *,
        .spectrum-point .point-icon,
        .point-icon {
            background: none !important;
            -webkit-background-clip: initial !important;
            -webkit-text-fill-color: initial !important;
            background-clip: initial !important;
            color: initial !important;
            font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif !important;
        }
        
        /* Specific fix for Mind = Blown emoji */
        .revelation-text h3 {
            background: none !important;
            -webkit-background-clip: initial !important;
            -webkit-text-fill-color: initial !important;
            background-clip: initial !important;
        }
        
        /* Universal emoji fix */
        span[style*="color: initial"],
        .emoji-fix {
            font-family: "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", "Segoe UI Symbol", sans-serif !important;
            font-style: normal !important;
            font-variant: normal !important;
            text-rendering: auto !important;
            -webkit-font-smoothing: auto !important;
        }
        
        /* Additional emoji protection */
        .revelation-text span,
        .spectrum-point .point-icon {
            display: inline !important;
            text-decoration: none !important;
            font-weight: normal !important;
        }

        .region-icon {
            font-size: 2rem;
            color: initial;
            text-shadow: none;
            filter: none;
            display: inline-block;
            font-family: "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }

        .story-content {
            margin-bottom: 24px;
        }

        .description {
            font-size: 1rem;
            line-height: 1.6;
            margin: 0;
            color: #6b7280;
        }

        .tech-specs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 16px;
            margin-bottom: 20px;
        }

        .spec-item {
            text-align: center;
            padding: 12px;
            background: rgba(102, 126, 234, 0.05);
            border-radius: 12px;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .spec-label {
            display: block;
            font-size: 0.75rem;
            color: #6b7280;
            text-transform: uppercase;
            font-weight: 600;
            margin-bottom: 4px;
            letter-spacing: 0.05em;
        }

        .spec-value {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: #374151;
        }

        .color-display {
            margin-top: 16px;
        }

        .color-swatch {
            height: 40px;
            border-radius: 12px;
            margin-bottom: 8px;
            border: 2px solid rgba(102, 126, 234, 0.2);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .color-note {
            font-size: 0.875rem;
            color: #6b7280;
            margin: 0;
            font-style: italic;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Responsive design for spectrum explorer */
        @media (min-width: 768px) {
            .exploration-container {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 32px;
                align-items: start;
            }
            
            .spectrum-points {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .spectrum-point {
                min-width: 100px;
            }
        }

        @media (max-width: 480px) {
            .spectrum-explorer {
                padding: 20px;
            }
            
            .spectrum-points {
                display: grid;
                grid-template-columns: repeat(4, 1fr);
                gap: 12px;
            }
            
            .spectrum-point {
                min-width: auto;
            }
            
            .point-label {
                font-size: 0.7rem;
            }
            
            .tech-specs {
                grid-template-columns: 1fr;
            }
        }

        /* Visual Aid (Section 2) */
        .visual-aid {
            margin: 1.5rem 0 0 0;
        }
        .visual-aid figcaption {
            font-size: 0.875rem;
            font-weight: 700;
            color: #667eea;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1rem;
        }
        .va-grid {
            display: grid;
            grid-template-columns: 1fr 40px 1fr 40px 1fr 40px 1fr 40px 1fr;
            align-items: center;
            gap: 12px;
        }
        .va-panel {
            background: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
        }
        .va-title {
            font-size: 0.95rem;
            font-weight: 600;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0 0 8px 0;
        }
        .va-canvas {
            position: relative;
            height: 140px;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            overflow: hidden;
            background: #f8fafc;
        }
        .va-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .va-desc {
            font-size: 0.9rem;
            color: #6b7280;
            margin: 8px 0 0 0;
        }
        .va-arrow {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .va-arrow svg {
            width: 32px;
            height: 32px;
            overflow: visible;
        }
        .va-arrow path {
            stroke: #667eea;
            stroke-width: 2;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        /* Spatial (placeholder) */
        .va-spatial {
            background:
                linear-gradient(135deg, rgba(102,126,234,0.12), rgba(118,75,162,0.08)),
                repeating-linear-gradient(45deg, #e5e7eb 0, #e5e7eb 10px, #f3f4f6 10px, #f3f4f6 20px);
        }
        /* DCT heatmap (placeholder) */
        .va-dct {
            background:
                radial-gradient(circle at 0% 0%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.6) 10%, rgba(102,126,234,0.45) 25%, rgba(118,75,162,0.25) 40%, rgba(15,23,42,0.08) 60%, rgba(15,23,42,0.02) 100%),
                #111827;
        }
        /* Modify: keep lows, zero highs */
        .va-modify {
            background:
                radial-gradient(circle at 0% 0%, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.6) 10%, rgba(102,126,234,0.45) 25%, rgba(118,75,162,0.25) 40%, rgba(15,23,42,0.08) 60%, rgba(15,23,42,0.02) 100%),
                #111827;
        }
        .va-mask {
            position: absolute;
            top: 10px;
            left: 10px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid #667eea;
            box-shadow: 0 0 0 9999px rgba(0,0,0,0.25);
            pointer-events: none;
        }
        .va-cross {
            position: absolute;
            right: 8px;
            bottom: 8px;
            width: 56px;
            height: 56px;
            pointer-events: none;
        }
        .va-cross::before,
        .va-cross::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            width: 2px;
            height: 56px;
            background: #ef4444;
            transform-origin: center;
            border-radius: 2px;
        }
        .va-cross::before { transform: translate(-50%,-50%) rotate(45deg); }
        .va-cross::after { transform: translate(-50%,-50%) rotate(-45deg); }
        /* Result (placeholder blur) */
        .va-result {
            background:
                linear-gradient(135deg, rgba(102,126,234,0.08), rgba(118,75,162,0.06)),
                repeating-linear-gradient(0deg, #e5e7eb 0, #e5e7eb 6px, #f3f4f6 6px, #f3f4f6 12px);
            filter: blur(0.3px) saturate(0.95);
        }
        .va-output {
            background:
                linear-gradient(135deg, rgba(102,126,234,0.08), rgba(118,75,162,0.06)),
                repeating-linear-gradient(0deg, #e5e7eb 0, #e5e7eb 6px, #f3f4f6 6px, #f3f4f6 12px);
        }
        .va-output-photo {
            filter: blur(2px) contrast(0.95) saturate(0.95);
        }
        /* Animation: trigger when section becomes visible */
        .va-grid > * {
            opacity: 0;
            transform: translateY(8px);
        }
        #section2.visible .va-grid > * {
            animation: fadeInUp 0.5s ease-out forwards;
        }
        #section2.visible .va-grid > *:nth-child(1) { animation-delay: 0s; }
        #section2.visible .va-grid > *:nth-child(2) { animation-delay: 0.05s; }
        #section2.visible .va-grid > *:nth-child(3) { animation-delay: 0.1s; }
        #section2.visible .va-grid > *:nth-child(4) { animation-delay: 0.15s; }
        #section2.visible .va-grid > *:nth-child(5) { animation-delay: 0.2s; }
        #section2.visible .va-grid > *:nth-child(6) { animation-delay: 0.25s; }
        #section2.visible .va-grid > *:nth-child(7) { animation-delay: 0.3s; }
        #section2.visible .va-grid > *:nth-child(8) { animation-delay: 0.35s; }
        #section2.visible .va-grid > *:nth-child(9) { animation-delay: 0.4s; }
        /* Mobile */
        @media (max-width: 768px) {
            .va-grid {
                grid-template-columns: 1fr;
            }
            .va-arrow {
                transform: rotate(90deg);
            }
        }
</style>
</head>
<body>
<div class="progress-container"><div class="progress-bar" id="progressBar"></div></div>
<div class="lesson-container">

<section id="section1" class="visible">
<h1>Hacking Frequencies: Filtering in the DCT Domain</h1>
<h2>The Frequency Equalizer</h2>
<div class="image-placeholder">Image placeholder: A cartoonish image of a sound mixing board with sliders, but instead of labels like 'Bass' and 'Treble', the sliders are labeled 'Smoothness', 'Edges', 'Fine Textures', and 'Noise'. This creates a visual metaphor for frequency filtering.</div>
<p>Welcome to the fun part! Now that we know how to use the DCT to split an image into its frequency components, we can start messing with them. Think of it like being a DJ with a sound equalizer for your pictures. Want more bass? Boost the low frequencies. Want more treble? Boost the highs. We can do the exact same thing with images to achieve some incredible effects.</p>
<button class="continue-button" onclick="showNextSection(2)">Continue</button>
</section>

<section id="section2">
<h2>The Three-Step Filtering Process</h2>
<p>Filtering in the frequency domain always follows the same simple, three-step recipe. It's a fundamental workflow you'll see again and again.</p>
<figure class="visual-aid" aria-labelledby="va-caption">
<figcaption id="va-caption">Three-step frequency filtering workflow</figcaption>
<div class="va-grid">
<div class="va-panel">
<div class="va-title">Start (Spatial Domain)</div>
<div class="va-canvas va-spatial" role="img" aria-label="Original cat image (spatial domain)">
<img class="va-photo" src="assets/lesson3/cat.jpg" alt="Original cat image" loading="lazy" decoding="async" onerror="this.style.display='none'">
</div>
<p class="va-desc">Pixels and intensities.</p>
</div>
<div class="va-arrow" aria-hidden="true">
<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M2 16H26M20 10L26 16L20 22"></path></svg>
</div>
<div class="va-panel">
<div class="va-title">Step 1: DCT</div>
<div class="va-canvas va-dct" role="img" aria-label="DCT magnitude heatmap with bright low-frequency corner"></div>
<p class="va-desc">Convert to frequencies; energy clusters top-left.</p>
</div>
<div class="va-arrow" aria-hidden="true">
<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M2 16H26M20 10L26 16L20 22"></path></svg>
</div>
<div class="va-panel">
<div class="va-title">Step 2: Modify</div>
<div class="va-canvas va-modify" role="img" aria-label="DCT with low-frequency keep-mask; high frequencies crossed out"><div class="va-mask"></div><div class="va-cross"></div></div>
<p class="va-desc">Keep lows, zero highs → low-pass mask.</p>
</div>
<div class="va-arrow" aria-hidden="true">
<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M2 16H26M20 10L26 16L20 22"></path></svg>
</div>
<div class="va-panel">
<div class="va-title">Step 3: Inverse DCT</div>
<div class="va-canvas va-result" role="img" aria-label="Reconstructed image (blurred) after inverse DCT"></div>
<p class="va-desc">Back to pixels → blur emerges.</p>
</div>
<div class="va-arrow" aria-hidden="true">
<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M2 16H26M20 10L26 16L20 22"></path></svg>
</div>
<div class="va-panel">
<div class="va-title">Output Image</div>
<div class="va-canvas va-output" role="img" aria-label="Output image preview (blurred from low-pass)">
<img class="va-photo va-output-photo" src="assets/lesson3/cat.jpg" alt="Output cat image (blurred effect simulated)" loading="lazy" decoding="async" onerror="this.style.display='none'">
</div>
<p class="va-desc">Final output preview (example blur shown).</p>
</div>
</div>
</figure>
<p>That's it! <strong>Transform -> Modify -> Inverse Transform.</strong> By controlling what we do in that middle step, we can create all sorts of filters.</p>
<button class="continue-button" onclick="showNextSection(3)">Continue</button>
</section>

<section id="section3">
<h2>Low-Pass Filtering: The Blurring Effect</h2>
<p>Let's start with a classic: a <strong>low-pass filter</strong>. The name says it all—it lets the <em>low frequencies pass</em> through while blocking, or attenuating, the high frequencies. What do you think happens when we remove the high frequencies from an image?</p>
<div class="check-your-knowledge">
<h3>Check Your Understanding</h3>
<p>Remember what high frequencies represent in an image. If we get rid of them, what visual information do we lose?</p>
<div id="cya1" style="display:none" class="animate-in"><p>We lose the sharp details! High frequencies correspond to edges, textures, and fine lines. Removing them should make the image smoother or blurrier.</p></div>
<button class="reveal-button" onclick="revealAnswer('cya1')">Reveal Answer</button>
</div>
<button class="continue-button" onclick="showNextSection(4)">Continue</button>
</section>

<section id="section4">
<p>You got it! Removing high-frequency information is the very definition of blurring. In the DCT domain, this is super easy. We just take our DCT coefficients and set all the high-frequency ones—those far away from the top-left corner—to zero.</p>
<div class="visual-aid-placeholder"><strong>Visual Aid</strong> — placeholder: Based on Figure 6.4. A three-panel diagram. Left: 'Original Image'. Middle: 'DCT Domain', showing the DCT coefficients with a conceptual circular mask over the top-left, indicating only these are kept. The caption reads 'Keep Low Frequencies, Zero-out High Frequencies'. Right: 'Result after Inverse DCT', showing a visibly blurred version of the original image.</div>
<button class="continue-button" onclick="showNextSection(5)">Continue</button>
</section>

<section id="section5">
<h2>High-Pass Filtering: Finding the Edges</h2>
<p>Okay, so if removing high frequencies causes blurring, what happens if we do the opposite? A <strong>high-pass filter</strong> blocks the low frequencies and lets the <em>high frequencies pass</em> through.</p>
<p>This means we'll set the coefficients in the top-left corner—including the all-important DC component—to zero, and keep everything else. This effectively subtracts the 'smooth' parts of the image.</p>
<div class="visual-aid-placeholder"><strong>Visual Aid</strong> — placeholder: Based on Figure 6.5. Another three-panel diagram. Left: 'Original Image'. Middle: 'DCT Domain', showing the DCT coefficients but with the top-left corner blacked out. The caption reads 'Zero-out Low Frequencies, Keep High Frequencies'. Right: 'Result after Inverse DCT', showing an image that looks like an edge-map—mostly dark, with the bright outlines of objects.</div>
<p>The result is a form of edge detection! We're left with only the sharp details and textures. While there are other, more common ways to detect edges (which we'll see later!), this perfectly demonstrates what kind of information is stored in which frequencies.</p>
<button class="continue-button" onclick="showNextSection(6)">Continue</button>
</section>

<section id="section6">
<h2>The Interactive Filter Playground</h2>
<p>Now it's your turn to be the frequency DJ. Use the sliders below to see the effects of low-pass and high-pass filtering in real-time.</p>
<div class="interactive-placeholder"><strong>Interactive</strong> — placeholder: Frequency Filter Playground. A three-panel interactive tool. The left panel shows a sample photograph. The middle panel shows its DCT representation. The right panel shows the processed image. 
- Below the panels are two sliders. The first is labeled 'Low-Pass Filter (Keep Frequencies up to...)' with a range from 100% down to 1%. As the student drags this slider down, a circular mask on the DCT image in the middle shrinks towards the top-left corner, and the processed image on the right becomes progressively blurrier.
- The second slider is labeled 'High-Pass Filter (Keep Frequencies from...)' with a range from 0% up to 99%. As the student drags this slider up, the central circular area of the DCT image is blacked out, and the processed image on the right increasingly shows only the edges and fine details.</div>
<p>Play around with the sliders. Notice how a tiny bit of low-pass filtering can subtly soften an image, while extreme filtering removes all detail. See how high-pass filtering can isolate the most detailed parts of the scene.</p>
<div class="why-it-matters"><h3>Why It Matters</h3><p>Why does this matter? Filtering in the frequency domain gives us a powerful, intuitive way to manipulate the fundamental characteristics of an image. And while we might use other methods for simple blurring, understanding this concept is <em>crucial</em> for grasping how JPEG works—because, as we'll soon see, compression is essentially a very clever and aggressive form of frequency filtering!</p></div>
<button class="continue-button" onclick="showNextSection(7)">Continue</button>
</section>

<section id="section7">
<h2>A Note on Denoising</h2>
<p>As a quick bonus, this same principle can be used for a simple form of denoising. Random noise in an image often shows up as small, sprinkled contributions across many of the high-frequency coefficients.</p>
<div class="visual-aid-placeholder"><strong>Visual Aid</strong> — placeholder: Based on Figure 6.6. A three-panel diagram. Left: A photo with visible static-like noise. Middle: Its DCT representation, showing the usual bright low-frequency corner but also a faint 'spray' of dots across the high-frequency areas. Right: The denoised photo, which is cleaner but slightly softer, after thresholding the DCT coefficients.</div>
<p>A simple strategy is to transform the noisy image, set all coefficients below a certain magnitude threshold to zero (assuming they're just noise), and transform back. It's a blunt instrument—it can also remove fine details—but it shows the power of separating signal from noise in the frequency domain.</p>
<div class="multiple-choice">
<h3>Test Your Knowledge</h3>
<p>To perform edge detection on an image using the DCT, what would you do to the coefficients before applying the Inverse DCT?</p>
<div class="choice-option" onclick="selectChoice(this,false,'Set all coefficients to zero.','If you set all coefficients to zero, the inverse transform will just be a black image! You need to keep some of them.')">Set all coefficients to zero.</div>
<div class="choice-option" onclick="selectChoice(this,false,'Set the high-frequency coefficients to zero.','This is the process for a low-pass filter, which results in blurring, not edge detection.')">Set the high-frequency coefficients to zero.</div>
<div class="choice-option" onclick="selectChoice(this,true,'Set the low-frequency coefficients (including the DC component) to zero.','Correct! Edge information is stored in the high frequencies. By removing the low frequencies (the smooth parts), you are left with only the edges.')">Set the low-frequency coefficients (including the DC component) to zero.</div>
<div class="choice-option" onclick="selectChoice(this,false,'Double the value of all coefficients.','Doubling all the coefficients would just make the resulting image twice as bright, but it wouldn\'t selectively filter for edges.')">Double the value of all coefficients.</div>
</div>
<button class="continue-button" id="continue-after-test-knowledge" onclick="showNextSection(8)" style="display:none">Continue</button>
</section>

<section id="section8">
<h2>Review and Reflect</h2>
<p>Let's recap our filtering experiments.</p>
<div class="image-placeholder">Image placeholder: A simple icon showing a DCT grid. A 'blur' icon (like a water droplet) is placed over the high-frequency coefficients. An 'edge' icon (like a sharp mountain peak) is placed over the low-frequency coefficients, indicating what is removed for each filter type.</div>
<p>In this lesson, we learned how to manipulate images by filtering in the frequency domain. The key takeaways are:</p>
<ul>
<li>The process is always <strong>Transform -> Modify -> Inverse Transform</strong>.</li>
<li>A <strong>Low-Pass Filter</strong> removes high frequencies, resulting in a <strong>blurring</strong> effect.</li>
<li>A <strong>High-Pass Filter</strong> removes low frequencies, resulting in an <strong>edge detection</strong> effect.</li>
</ul>
<p>We've now seen the theory and a powerful application of the DCT. Next up, we'll see how these exact principles are put to work in the most significant application of all: the JPEG compression standard that powers the web.</p>
</section>

<button id="markCompletedBtn" class="mark-completed-button" onclick="toggleCompleted()">✓ Mark as Completed</button>

</div>

<script>
let currentSection=1;const totalSections=8;updateProgress();if(currentSection===totalSections){const b=document.getElementById('markCompletedBtn');if(b){b.classList.add('show')}}
function showNextSection(nextId){const next=document.getElementById('section'+nextId);const btn=event&&event.target;if(!next)return;if(btn)btn.style.display='none';next.classList.add('visible','animate-in');currentSection=nextId;updateProgress();if(currentSection===totalSections){const b=document.getElementById('markCompletedBtn');if(b){b.classList.add('show')}}setTimeout(()=>{next.scrollIntoView({behavior:'smooth',block:'start'})},200)}
function updateProgress(){const bar=document.getElementById('progressBar');const pct=(currentSection/totalSections)*100;bar.style.width=pct+'%'}
function revealAnswer(id){const el=document.getElementById(id);const btn=event&&event.target;if(el){el.style.display='block';el.classList.add('animate-in')}if(btn)btn.style.display='none'}
function selectChoice(element,isCorrect,optionText,explanation){const group=element.parentNode.querySelectorAll('.choice-option');group.forEach(c=>{c.classList.remove('selected','correct','incorrect');const old=c.querySelector('.choice-explanation');if(old)old.remove()});element.classList.add('selected');element.classList.add(isCorrect?'correct':'incorrect');const ex=document.createElement('div');ex.className='choice-explanation animate-in';ex.style.display='block';ex.innerHTML='<strong>'+(isCorrect?'Correct!':'Not quite.')+'</strong> '+explanation;element.appendChild(ex);const cont=document.getElementById('continue-after-test-knowledge');if(cont&&cont.style.display==='none'){setTimeout(()=>{cont.style.display='inline-block'},600)}}
document.addEventListener('keydown',function(e){if(e.key==='ArrowRight'||e.key===' '){const btn=document.querySelector('#section'+currentSection+' .continue-button');if(btn&&btn.style.display!=='none'){e.preventDefault();btn.click()}}});
function toggleCompleted(){const btn=document.getElementById('markCompletedBtn');if(!btn)return;const done=btn.classList.contains('completed');if(done)return;try{if(window.parent&&window.parent.ProgressTracker){let courseId='computer-vision';let pathId='fourier-transform-and-images';let moduleId='cv-dct-filtering';let lessonId='cv-l3-hacking-frequencies';if(window.parent.currentRoute){const r=window.parent.currentRoute;if(r.courseId)courseId=r.courseId;if(r.pathId)pathId=r.pathId;if(r.moduleId)moduleId=r.moduleId;if(r.lessonId)lessonId=r.lessonId}const urlParams=new URLSearchParams(window.location.search);if(urlParams.get('course'))courseId=urlParams.get('course');if(urlParams.get('path'))pathId=urlParams.get('path');if(urlParams.get('module'))moduleId=urlParams.get('module');if(urlParams.get('lesson'))lessonId=urlParams.get('lesson');window.parent.ProgressTracker.markLessonCompleted(courseId,pathId,moduleId,lessonId)}}catch(err){console.error('Error with ProgressTracker:',err)}btn.classList.add('completed');btn.innerHTML='✅ Completed!';localStorage.setItem('lesson_cv-ch06-l3_completed','true');const msg=document.createElement('div');msg.className='lesson-success-message';msg.textContent='🎉 Lesson Completed! Great Job! 🎉';document.querySelector('.lesson-container').appendChild(msg);requestAnimationFrame(()=>msg.classList.add('show'))}
window.addEventListener('load',function(){const btn=document.getElementById('markCompletedBtn');if(!btn)return;try{if(window.parent&&window.parent.ProgressTracker){let courseId='computer-vision';let pathId='fourier-transform-and-images';let moduleId='cv-dct-filtering';let lessonId='cv-l3-hacking-frequencies';if(window.parent.currentRoute){const r=window.parent.currentRoute;if(r.courseId)courseId=r.courseId;if(r.pathId)pathId=r.pathId;if(r.moduleId)moduleId=r.moduleId;if(r.lessonId)lessonId=r.lessonId}const urlParams=new URLSearchParams(window.location.search);if(urlParams.get('course'))courseId=urlParams.get('course');if(urlParams.get('path'))pathId=urlParams.get('path');if(urlParams.get('module'))moduleId=urlParams.get('module');if(urlParams.get('lesson'))lessonId=urlParams.get('lesson');const progress=window.parent.ProgressTracker.getLessonProgress(courseId,pathId,moduleId,lessonId);if(progress.state===window.parent.ProgressTracker.STATES.COMPLETED){btn.classList.add('completed');btn.innerHTML='✅ Completed!';return}}}catch(e){}const isCompleted=localStorage.getItem('lesson_cv-ch06-l3_completed')==='true';if(isCompleted){btn.classList.add('completed');btn.innerHTML='✅ Completed!'}});
document.documentElement.style.scrollBehavior='smooth';
</script>
</body>
</html>