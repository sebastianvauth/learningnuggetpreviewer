{
    "lesson": {
      "title": "The Real Deal - Fourier Series in Action",
      "sections": [
        {
          "title": "Introduction: Calculating the Recipe",
          "content": "# Lesson 4: The Real Deal - Fourier Series in Action",
          "image": "Description: A stylized image of a calculator, but instead of numbers, its buttons show integral symbols and sine/cosine waves. The display shows the bar chart of a frequency spectrum, as if it has just been calculated.",
          "text": "Alright, team, this is it. We have the big idea (signals are made of sine waves), the intuition (we can test for them by correlating), and the advanced tool (complex numbers). Now it's time to get our hands dirty and actually calculate a signal's frequency recipe. We'll be using the **Fourier Series**, which is a special, practical version of the Fourier Transform for signals that repeat periodically, like our friend the square wave."
        },
        {
          "title": "The Fourier Series Formulas",
          "content": "For any periodic signal $y(t)$ that repeats every period $T$, we can represent it with this sum:",
          "stepByStepMath": [
            {
              "step": "The Fourier Series Representation",
              "equation": "y(t) = a_0 + \\sum_{k=1}^{\\infty} \\left( a_k \\cos(k\\omega_0 t) + b_k \\sin(k\\omega_0 t) \\right)"
            }
          ],
          "textAfterMath": "This formula says our signal $y(t)$ is equal to an average value ($a_0$) plus a sum of cosine waves and sine waves at harmonic frequencies ($k\\omega_0$). Our job is to find the values of the coefficients $a_0$, $a_k$, and $b_k$. These numbers are the recipe!",
          "continueButton": true,
          "additionalContent": [
            {
              "text": "To find them, we use our 'multiply and integrate' intuition, now written as formal integrals. Don't worry, we'll walk through them.",
              "buildYourVocab": {
                "term": "Fourier Series",
                "definition": "An expansion of a periodic function into a sum of sines and cosines. It's our mathematical tool for finding the frequency recipe of repeating signals."
              },
              "textAfterVocab": "",
              "continueButton": true
            },
            {
              "stepByStepMath": [
                {
                  "step": "1. The DC Component ($a_0$): This is just the average value of the signal over one period. It tells us if the signal is shifted up or down.",
                  "equation": "a_0 = \\frac{1}{T} \\int_{0}^{T} y(t) \\, dt"
                },
                {
                  "step": "2. The Cosine Amplitudes ($a_k$): To find how much of each cosine wave we need, we multiply our signal by that cosine wave and find the average.",
                  "equation": "a_k = \\frac{2}{T} \\int_{0}^{T} y(t) \\cos(k\\omega_0 t) \\, dt"
                },
                {
                  "step": "3. The Sine Amplitudes ($b_k$): We do the same thing to find the sine wave amplitudes.",
                  "equation": "b_k = \\frac{2}{T} \\int_{0}^{T} y(t) \\sin(k\\omega_0 t) \\, dt"
                }
              ],
              "textAfterMath": "These three formulas are our complete toolkit for dissecting any periodic signal.",
              "continueButton": true
            },
            {
              "title": "Example 1: A Simple Sine Wave",
              "text": "Let's start with an easy one to build our confidence. What's the recipe for a simple sine wave, $y(t) = \\sin(\\omega_0 t)$? Intuitively, the recipe should just be '1 part sine wave at frequency $\\omega_0$, and nothing else.' Let's see if the math agrees.",
              "stepByStepMath": [
                {
                  "step": "Calculate $a_0$ (Average Value):",
                  "equation": "a_0 = \\frac{1}{T} \\int_{0}^{T} \\sin(\\omega_0 t) \\, dt = 0",
                  "explanation": "The average value of a sine wave over a full period is zero. This makes sense; there's no DC offset."
                },
                {
                  "step": "Calculate $a_k$ (Cosine Parts):",
                  "equation": "a_k = \\frac{2}{T} \\int_{0}^{T} \\sin(\\omega_0 t) \\cos(k\\omega_0 t) \\, dt = 0",
                  "explanation": "Due to a property called **orthogonality**, the integral of a sine wave multiplied by a cosine wave over a period is always zero. No cosine parts needed!"
                },
                {
                  "step": "Calculate $b_k$ (Sine Parts):",
                  "equation": "b_k = \\frac{2}{T} \\int_{0}^{T} \\sin(\\omega_0 t) \\sin(k\\omega_0 t) \\, dt = \\begin{cases} 1 & \\text{if } k=1 \\\\ 0 & \\text{if } k \\neq 1 \\end{cases}",
                  "explanation": "Again, due to orthogonality, this integral is zero *unless* the frequencies are the same ($k=1$). When k=1, the integral evaluates to T/2, and the whole expression becomes 1."
                }
              ],
              "textAfterMath": "The only non-zero coefficient is $b_1 = 1$. The math confirms it! The recipe is exactly what we thought.",
              "continueButton": true
            },
            {
              "title": "Example 2: The Square Wave",
              "text": "Now for the main event. Let's analyze the symmetric square wave that goes from +1 (from t=0 to t=1) to -1 (from t=1 to t=2). Its period is $T=2$, and its fundamental frequency is $\\omega_0 = \\pi$.",
              "image": {
                "description": "A clear plot of one period of the symmetric square wave being analyzed."
              },
              "stepByStepMath": [
                {
                  "step": "1. Calculate $a_0$:",
                  "equation": "a_0 = \\frac{1}{2} \\left( \\int_{0}^{1} (1) \\, dt + \\int_{1}^{2} (-1) \\, dt \\right) = \\frac{1}{2} (1 - 1) = 0",
                  "explanation": "The area of the positive part cancels the area of the negative part. The average value is zero."
                },
                {
                  "step": "2. Calculate $a_k$:",
                  "equation": "a_k = \\frac{2}{2} \\int_{0}^{2} y(t) \\cos(k\\pi t) \\, dt = 0",
                  "explanation": "This requires a bit more work, but our square wave is an 'odd' function and cosine is an 'even' function. The product of an odd and even function is odd, and integrating an odd function over a symmetric interval always gives zero. No cosine components!"
                },
                {
                  "step": "3. Calculate $b_k$:",
                  "equation": "b_k = \\frac{2}{2} \\left( \\int_{0}^{1} (1)\\sin(k\\pi t)\\,dt + \\int_{1}^{2} (-1)\\sin(k\\pi t)\\,dt \\right)",
                  "explanation": "After performing the integration and plugging in the limits (a bit of calculus work!), we find a pattern..."
                },
                {
                  "step": "4. The Result for $b_k$:",
                  "equation": "b_k = \\begin{cases} \\frac{4}{k\\pi} & \\text{if } k \\text{ is odd} \\\\ 0 & \\text{if } k \\text{ is even} \\end{cases}",
                  "explanation": "The sine components are only non-zero for the odd harmonics (k=1, 3, 5...)! And their amplitude decreases as k gets bigger."
                }
              ],
              "textAfterMath": "So the final recipe for our square wave is:",
              "finalEquation": "$$ y(t) = \\frac{4}{\\pi}\\sin(\\pi t) + \\frac{4}{3\\pi}\\sin(3\\pi t) + \\frac{4}{5\\pi}\\sin(5\\pi t) + \\dots $$",
              "textAfterFinalEquation": "This is the exact mathematical recipe we saw visually in Lesson 1! The math has proven our intuition correct.",
              "visualAid": {
                "description": "Show the image of the blackboard calculation from Figure 5.7. Caption: 'This might look intimidating, but we just walked through every step of this! This is a real-world university lecture board showing the same derivation.'"
              },
              "continueButton": true
            },
            {
              "whyItMatters": {
                "text": "Being able to perform this calculation is the proof in the pudding. It demonstrates that the beautiful idea of signal decomposition isn't just a concept; it's a rigorous, predictive mathematical tool. These coefficients we calculated are *exactly* the values a computer, running an algorithm like the Fast Fourier Transform (FFT), would find to analyze or reconstruct a signal. This is the solid ground upon which techniques like JPEG and audio processing are built."
              },
              "continueButton": true
            },
            {
              "testYourKnowledge": {
                "question": "For the symmetric square wave we just analyzed, which type of frequency components make up its 'recipe'?",
                "options": [
                  {
                    "option": "A DC offset and even cosine waves.",
                    "explanation": "We found the DC offset ($a_0$) was zero, and all cosine components ($a_k$) were zero as well.",
                    "correct": false
                  },
                  {
                    "option": "Only the sine components ($b_k$) for odd harmonics (k=1, 3, 5...).",
                    "explanation": "Exactly! The recipe consists only of sine waves at odd multiples of the fundamental frequency.",
                    "correct": true
                  },
                  {
                    "option": "Only the cosine components ($a_k$) for odd harmonics.",
                    "explanation": "We found that the cosine components were all zero due to the symmetry of the functions.",
                    "correct": false
                  },
                  {
                    "option": "All sine and cosine components are present.",
                    "explanation": "Our calculation showed that many of the coefficients were zero, meaning only a specific set of components are needed.",
                    "correct": false
                  }
                ]
              }
            }
          ]
        },
        {
          "title": "Review and Reflect",
          "content": "Let's review the powerful tools we've just used.",
          "image": "Description: A summary graphic. On the left, a complex periodic wave. An arrow points to the right, showing three boxes labeled 'a₀ (Average)', 'aₖ (Cosine Parts)', and 'bₖ (Sine Parts)', representing the calculated coefficients.",
          "text": "In this lesson, we bridged the gap between intuition and practice. We took the formal mathematics of the Fourier Series and used it to calculate a signal's frequency recipe.\n- We learned the three key integral formulas for finding the coefficients $a_0$, $a_k$, and $b_k$.\n- We successfully analyzed a simple sine wave, confirming our intuition with math.\n- We performed a detailed calculation for a square wave and derived its famous recipe of odd sine harmonics.\n\nWe've now fully conquered the 1D world of signals. In our final lesson for this chapter, we'll take this entire framework and apply it to the 2D world of images, where the real computer vision magic happens.",
          "frequentlyAsked": {
            "question": "What's the difference between the Fourier Series and the general Fourier Transform again?",
            "answer": "Great question to clarify! The **Fourier Series** (which we used today) is specifically for **periodic** signals—signals that repeat in a predictable cycle. It gives you a discrete set of coefficients for frequencies that are integer multiples of the fundamental. The **Fourier Transform** is the more general tool that works for **any** signal, even non-repeating ones (it treats them as if their period is infinitely long). It gives you a continuous frequency spectrum. For digital work like images, we use a discrete version of the general transform."
          }
        }
      ]
    }
  }